(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([[624],{3079:function(e,t,n){"use strict";n.d(t,{M:function(){return ce}});var i=n(104),o=n(1425),r=n(9931),s=n(9682),a=n(8999),c=n(3502),l=n(6412),d=n(8542),u=n(3856),p=n(2943),g=n(3696),f=n(1496),h=n(4679),m=n(6313);const y=(e,...t)=>Object.keys(e).filter((n=>{const{widgetRestrictions:i}=e[n];return t.some((e=>!(0,h.es)(i,e)))})),b=(e,t)=>(n,i)=>{const{editableAreasConfiguration:o,widgets:r,zones:s,widgetZonesConfiguration:a,editableAreas:c,sections:l}=i(),f=r[e].type,m=s[t].widgets.indexOf(e),b=y(o,f),v=(0,d.A)(l,(0,u.A)(b,(e=>c[e].sections))),k=((e,t,n)=>{let i=Object.keys(e);return n&&(i=i.filter((e=>!n.includes(e)))),i.filter((n=>{const{widgetRestrictions:i}=e[n];return!(0,h.es)(i,t)}))})(a,f,(0,u.A)(Object.values(v),(e=>e.zones)));n((0,g.Em)(p.c.Widget,f,e,t,m,b,k))},v=(e,t)=>(n,i)=>{const{editableAreas:o,editableAreasConfiguration:r,sections:s,zones:a,widgets:c}=i(),l=s[e].type,d=o[t].sections.indexOf(e),u=((e,t,n,i)=>{const o=(0,m.MA)(t.zones,n),r=f.Qc.getUniqueValues(o,(e=>i[e].type)),s=Object.keys(e).filter((n=>!(0,h.es)(e[n].sectionRestrictions,t.type))),a=y(e,...r);return f.Qc.getUniqueValues([...s,...a])})(r,s[e],a,c);n((0,g.Em)(p.c.Section,l,e,t,d,u,[]))};var k=n(4077),_=n(3531),w=n(2981),T=n(3687);let S;const I=(e,t,n)=>({makeOnDragStart:i=>o=>{t(i(o.source.id,o.sourceContainer.id)),O(),document.addEventListener("keyup",A(e,n,t)),window.addEventListener("message",C(e,n,t));const r=document.getElementById(o.source.id);(0,k.Ul)(r),(0,_.postMessage)(T.lA.MESSAGING_DRAG_START,null,"*")},makeOnDragStop:i=>()=>{document.body.style.cursor="auto",S&&clearTimeout(S),document.addEventListener("keyup",A(e,n,t)),window.removeEventListener("message",C(e,n,t)),(0,_.postMessage)(T.lA.MESSAGING_DRAG_STOP,null,"*");const o=n().dragAndDrop;if(o.itemIdentifier){const e=document.getElementById(o.itemIdentifier);if((0,k.Vr)(e),null!==o.dropMarkerPosition&&o.targetContainerIdentifier){const e=o.sourceContainerIdentifier===o.targetContainerIdentifier&&o.originalPosition<=o.dropMarkerPosition?o.dropMarkerPosition-1:o.dropMarkerPosition;t(i(o.itemIdentifier,o.sourceContainerIdentifier,o.targetContainerIdentifier,e))}t((0,w.z6)())}},onDragOver:e=>{const i=n();if(e.source.id===e.over.id&&null!==i.dragAndDrop.dropMarkerPosition){const{top:n,bottom:i}=e.over.getBoundingClientRect(),o=e.sensorEvent.clientY;o>=n&&o<=i?t((0,w._j)()):S&&clearTimeout(S)}e.over.id!==i.dragAndDrop.itemIdentifier&&S&&clearTimeout(S)},onDragContainerOver:e=>{const t=n(),i=e.overContainer.id,o=t.dragAndDrop.sourceContainerIdentifier;S&&i!==o&&clearTimeout(S)},onDragContainerOut:e=>{e.overContainer.id===n().dragAndDrop.targetContainerIdentifier&&(S=setTimeout((()=>t((0,w._j)())),a.wg))}}),O=()=>{document.body.style.cursor="move",document.body.style.cursor="grabbing",document.body.style.cursor="-moz-grabbing",document.body.style.cursor="-webkit-grabbing"},A=(e,t,n)=>i=>{27===i.which&&t().dragAndDrop.itemIdentifier&&E(e,n)},C=(e,t,n)=>i=>{i.data&&i.data.msg===T.lA.MESSAGING_DRAG_STOP&&t().dragAndDrop.itemIdentifier&&E(e,n)},E=(e,t)=>{t((0,w.z6)()),e.cancel()};var L=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const j=Object.getOwnPropertySymbols(l.sx.Plugins.Mirror.prototype),D=["onMirrorCreated","onMirrorMove"].reduce(((e,t)=>(e[t]=j.find((e=>e.toString().includes(t))),e)),{});class P extends l.sx.Plugins.Mirror{[D.onMirrorCreated]({mirror:e,source:t,sensorEvent:n}){const i=this.draggable.getClassNamesFor("mirror");e.style.display="none";const o={mirror:e,mirrorClasses:i,sensorEvent:n,source:t,options:this.options,scrollOffset:this.scrollOffset,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(o).then(M).then(z).then(x).then(N).then(R({initial:!0})).then(B).then((e=>{var{mirrorOffset:t,initialX:n,initialY:i}=e,o=L(e,["mirrorOffset","initialX","initialY"]);return this.mirrorOffset=t,this.initialX=n,this.initialY=i,this.lastMovedX=n,this.lastMovedY=i,Object.assign({mirrorOffset:t,initialX:n,initialY:i},o)}))}[D.onMirrorMove](e){if(e.canceled())return null;const t={initialX:this.initialX,initialY:this.initialY,mirror:e.mirror,mirrorOffset:this.mirrorOffset,options:this.options,scrollOffset:this.scrollOffset,sensorEvent:e.sensorEvent,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(t).then(R({withFrame:!0})).then((e=>{var{lastMovedX:t,lastMovedY:n}=e,i=L(e,["lastMovedX","lastMovedY"]);return this.lastMovedX=t,this.lastMovedY=n,Object.assign({lastMovedX:t,lastMovedY:n},i)})).then((t=>{const n={source:e.source,originalSource:e.originalSource,sourceContainer:e.sourceContainer,sensorEvent:e.sensorEvent,dragEvent:e.dragEvent,mirror:this.mirror,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY};return this.draggable.trigger(n),t}))}}function M(e){var{source:t}=e,n=L(e,["source"]);return H((e=>{const i=t.getBoundingClientRect();e(Object.assign({source:t,sourceRect:i},n))}))}function x(e){var{mirror:t,source:n,options:i}=e,o=L(e,["mirror","source","options"]);return H((e=>{let r,s;if(i.constrainDimensions){const e=getComputedStyle(n);r=e.getPropertyValue("height"),s=e.getPropertyValue("width")}t.style.display=null,t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,t.style.transformOrigin="0 0",t.style.opacity="0.7",t.style.backgroundColor=function(e){if(!e)return;let t=e,n="white";for(;t;){const e=getComputedStyle(t).getPropertyValue("background-color");if("rgba(0, 0, 0, 0)"!==e&&"transparent"!==e){n=e;break}t=t.parentElement}return n}(t),i.constrainDimensions&&(t.style.height=r,t.style.width=s),e(Object.assign({mirror:t,source:n,options:i},o))}))}function z(e){var{sensorEvent:t,sourceRect:n,options:i}=e,o=L(e,["sensorEvent","sourceRect","options"]);return H((e=>{const r={top:null===i.cursorOffsetY?.5*(t.clientY-n.top):i.cursorOffsetY,left:null===i.cursorOffsetX?.5*(t.clientX-n.left):i.cursorOffsetX};e(Object.assign({sensorEvent:t,sourceRect:n,mirrorOffset:r,options:i},o))}))}function R({withFrame:e=!1,initial:t=!1}={}){return n=>{var{mirror:i,sensorEvent:o,mirrorOffset:r,initialY:s,initialX:a,scrollOffset:c,options:l,passedThreshX:d,passedThreshY:u,lastMovedX:p,lastMovedY:g}=n,f=L(n,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options","passedThreshX","passedThreshY","lastMovedX","lastMovedY"]);return H((e=>{const n=Object.assign({mirror:i,mirrorOffset:r,options:l,sensorEvent:o},f);if(r){const e=d?Math.round((o.clientX-r.left-c.x)/(l.thresholdX||1))*(l.thresholdX||1):Math.round(p),f=u?Math.round((o.clientY-r.top-c.y)/(l.thresholdY||1))*(l.thresholdY||1):Math.round(g);l.xAxis&&l.yAxis||t?i.style.transform=`translate3d(${e}px, ${f}px, 0) scale(0.5)`:l.xAxis&&!l.yAxis?i.style.transform=`translate3d(${e}px, ${s}px, 0)`:l.yAxis&&!l.xAxis&&(i.style.transform=`translate3d(${a}px, ${f}px, 0)`),t&&(n.initialX=e,n.initialY=f),n.lastMovedX=e,n.lastMovedY=f}e(n)}),{raf:e})}}function N(e){var{mirror:t,mirrorClasses:n}=e,i=L(e,["mirror","mirrorClasses"]);return H((e=>{t.classList.add(...n),e(Object.assign({mirror:t,mirrorClasses:n},i))}))}function B(e){var{mirror:t}=e,n=L(e,["mirror"]);return H((e=>{t.removeAttribute("id"),delete t.id,e(Object.assign({mirror:t},n))}))}function H(e,{raf:t=!1}={}){return new Promise(((n,i)=>{t?requestAnimationFrame((()=>{e(n,i)})):e(n,i)}))}var $=n(2769);const W=Object.getOwnPropertySymbols(l.sx.Sensors.MouseSensor.prototype),U=["onMouseDown","onMouseMove","onMouseUp","onContextMenuWhileDragging","onDistanceChange"].reduce(((e,t)=>(e[t]=W.find((e=>e.toString().includes(t))),e)),{});class G extends l.sx.Sensors.MouseSensor{[U.onMouseDown](e){if(0!==e.button||e.ctrlKey||e.metaKey)return;const t=(0,$.A)(e.target,this.containers);if(!t)return;if(this.options.handle&&e.target&&!(0,$.A)(e.target,this.options.handle))return;const n=(0,$.A)(e.target,this.options.draggable);if(!n)return;const{delay:i}=this,{pageX:o,pageY:r}=e;Object.assign(this,{pageX:o,pageY:r}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=t,this.originalSource=n,document.addEventListener("mouseup",this[U.onMouseUp]),document.addEventListener("mousemove",this[U.onDistanceChange]),this.mouseDownTimeout=window.setTimeout((()=>{this[U.onDistanceChange]({pageX:this.pageX,pageY:this.pageY})}),i.mouse)}}const q="ktc-draggable-mirror",F=e=>{document.addEventListener(a.Kr,(n=>{const i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,(t=>{e.removeContainer(t)}))})),document.addEventListener(a.Oq,(n=>{const i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,(t=>{e.addContainer(t)}))}));const t=e=>document.querySelectorAll(`div[id="${e}"] .ktc-widget-zone`)};var V=n(1945),X=n(2320),Q=n(3855),Y=n(1880),Z=n(7381),K=n(9813),J=n(1343),ee=n(2008),te=n(6797);var ne,ie,oe,re=n(4434),se=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ae=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ce=class{constructor(e,t,n){this.localizationService=e,this.pageConfigurationService=t,this.messagingService=n,this.wasInitialized=!1}async initialize(e,t,n,i,o,r){if(!this.wasInitialized){this.wasInitialized=!0;try{e.validate(),(0,s.Y3)(e);const a=t(await this.pageConfigurationService.getConfiguration(e));return((e,t)=>{const n=window.kentico||{};n.localization=n.localization||{},n.localization.getString=t.getLocalizationWithoutPrefix;const i={open:t=>e((0,te.Dh)(t)),apply:t=>e((0,te.LG)(t)),cancel:t=>e((0,te.zU)(t)),getData:()=>e((0,te.bQ)())},o=n.modalDialog=n.modalDialog||{};Object.assign(o,i)})(a.dispatch,this.localizationService),(0,re.K)(),this.messagingService.registerListener(a.getState,a.dispatch,e.allowedOrigins),(0,_.postMessage)(T.lA.GET_DISPLAYED_WIDGET_VARIANTS,null,"*"),window.addEventListener("resize",(()=>{this.updatePopupContainerPosition(a)})),((e,t,n)=>{const i=document.createElement("draggable"),o=new l.sx(i,{classes:{mirror:q,"source:dragging":"ktc-widget--dragged"},draggable:".ktc-widget",handle:".ktc-widget-header-handle",mirror:{constrainDimensions:!0},plugins:[P],sensors:[G]});o.removePlugin(l.sx.Plugins.Mirror),o.removeSensor(l.sx.Sensors.MouseSensor),F(o);const{makeOnDragStart:r,makeOnDragStop:s,onDragOver:a,onDragContainerOver:c,onDragContainerOut:d}=I(o,e,t);o.on("drag:start",r(b)).on("drag:stop",s(n)).on("drag:over",a).on("drag:over:container",c).on("drag:out:container",d)})(a.dispatch,a.getState,o),this.initializeEditableAreas(a,i),((e,t,n)=>{const i=document.querySelectorAll(".ktc-editable-area"),o=new l.sx(i,{classes:{mirror:q,"source:dragging":"ktc-section--dragged"},draggable:".ktc-section",handle:".ktc-section-header-drag-icon",mirror:{constrainDimensions:!0},plugins:[P]});o.removePlugin(l.sx.Plugins.Mirror);const{makeOnDragStart:r,makeOnDragStop:s,onDragOver:a,onDragContainerOver:c,onDragContainerOut:d}=I(o,e,t);o.on("drag:start",r(v)).on("drag:stop",s(n)).on("drag:over",a).on("drag:over:container",c).on("drag:out:container",d)})(a.dispatch,a.getState,r),this.initializeGlobalComponentWrapper(a,n),(0,X._)(),(0,J.m)(),a}catch(e){Q.v.logException(e)}}}getGlobalComponentWrapperHost(){return document.body}initializeGlobalComponentWrapper(e,t){this.createGlobalComponentWrapperHost();const n=(0,o.Ef)({mixins:[(0,ee.C)(e)],render:()=>(0,o.h)(t)});n.use(r.Ay),n.config.globalProperties.$_localizationService=this.localizationService,n.mount(`.${a.Ee}`)}createGlobalComponentWrapperHost(){const e=document.createElement("div");e.classList.add(a.Ee),this.getGlobalComponentWrapperHost().appendChild(e)}updatePopupContainerPosition(e){if(null!==e.getState().popup.componentIdentifier){const t=document.querySelector("kentico-add-component-button[is-active='true'], kentico-personalization-button[show-personalization-popup]");if(null!==t){const n=t.getBoundingClientRect(),i=(0,V.cx)(n,null),o=(0,V.ME)(n),r=(0,V.m9)(n);e.dispatch((0,K.iy)(i,o,r))}}}initializeEditableAreas(e,t){Object.keys(e.getState().editableAreas).forEach((n=>{const i=(0,o.Ef)({mixins:[(0,ee.C)(e)],render:()=>(0,o.h)(t,{identifier:n})});i.use(r.Ay),i.config.globalProperties.$_localizationService=this.localizationService,i.mount(`[data-kentico-editable-area-id="${n}"]`)}))}};ce=se([(0,i._)(),ae("design:paramtypes",["function"==typeof(ne=void 0!==c.LocalizationService&&c.LocalizationService)?ne:Object,"function"==typeof(ie=void 0!==Z.L&&Z.L)?ie:Object,"function"==typeof(oe=void 0!==Y.U&&Y.U)?oe:Object])],ce)},9682:function(e,t,n){"use strict";n.d(t,{LV:function(){return o},Y3:function(){return s},q$:function(){return r}});var i=n(1083);let o,r;const s=e=>{o=i.A.create({}),r=e}},3:function(e,t,n){"use strict";n.d(t,{yx:function(){return s},U6:function(){return a},tt:function(){return c},Gu:function(){return l},LZ:function(){return d}});var i=n(9682),o=n(6485),r=n(3687);const s=async e=>(await i.LV.get(e)).data,a=async(e,t)=>{const n=i.q$.getComponentMarkupData(t);return(await i.LV.post(e,n)).data},c=async()=>{const e=await i.LV.get(i.q$.metadataEndpoint);return(0,o.cQ)(r.SL.NormalizerService).normalizeMetadata(e.data)},l=async()=>{const e=await i.LV.get(i.q$.configurationEndpoints.load);return(0,o.cQ)(r.SL.NormalizerService).normalizeConfiguration(e.data)},d=async(e,t)=>((e,t)=>{const n={[i.q$.constants.editingInstanceHeader]:t};return i.LV.post(i.q$.configurationEndpoints.store,e,{headers:n})})((0,o.cQ)(r.SL.NormalizerService).denormalizeConfiguration(e),t)},829:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var i=n(1235);const o=new i.wQ.Entity("widgets",{},{idAttribute:"typeIdentifier"}),r=new i.wQ.Entity("sections",{},{idAttribute:"typeIdentifier"}),s={pageTemplates:[new i.wQ.Entity("pageTemplates",{},{idAttribute:"typeIdentifier"})],personalizationConditionTypes:[new i.wQ.Entity("personalizationConditionTypes",{},{idAttribute:"typeIdentifier"})],sections:[r],widgets:[o]}},1040:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});class i{constructor(e,t,n,i,o,r,s){this.applicationPath=e,this.configurationEndpoints=t,this.metadataEndpoint=n,this.allowedOrigins=i,this.propertiesEditorClientId=o,this.constants=r,this.selectors=s}}},2829:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var i=n(1425),o=n(1496),r=n(103);const s=(0,i.pM)({data(){return{widgetZone:undefined}},render(){const e=(0,r.LR)(this.sectionMarkup,["script","style"]),t=(0,i.pM)({template:`<div ref="sectionMarkup" class="ktc-section-body-wrapper">${e.strippedMarkup}</div>`,components:{WidgetZone:this.widgetZone},data:()=>({sectionIdentifier:this.sectionIdentifier,areaIdentifier:this.areaIdentifier}),mounted(){(0,r.gz)(this.$refs.sectionMarkup,e.elementMappings),o.DL.disableElementLinks(this.$refs.sectionMarkup)},updated(){(0,r.gz)(this.$refs.sectionMarkup,e.elementMappings),o.DL.disableElementLinks(this.$refs.sectionMarkup)}});return(0,i.h)(t)},props:{sectionIdentifier:{required:!0,type:String},sectionMarkup:{required:!0,type:String},areaIdentifier:{required:!0,type:String}}})},2776:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});const i={sectionIdentifier:{required:!0,type:String},zoneIndex:{required:!0,type:Number},areaIdentifier:{required:!0,type:String}}},7249:function(e,t,n){"use strict";n.d(t,{VR:function(){return I},W5:function(){return O.A},wC:function(){return L},yZ:function(){return B},X3:function(){return Y}});var i=n(2008),o=n(5895),r=n(2981),s=n(1425);const a=[".theme",".headerTitle",".horizontalPosition",".verticalPosition",".columnType",".localizationService"],c={slot:"pop-up-content",class:"pop-up-sticky-filter"},l={slot:"pop-up-content"},d=[".items",".noItemsAvailableMessage",".columnType"];var u=n(1496),p=n(9069),g=n(680);const f={class:"ktc-clear-filter"},h={class:"ktc-clear-filter-header"},m={class:"ktc-clear-filter-paragraph"},y={class:"ktc-clear-filter-button"},b=[".buttonText",".buttonStyle"];var v=(0,s.pM)({computed:{showButton(){return this.filterPhrase&&this.noResults},buttonText(){return this.$_localizationService.getLocalization("widgetlist.clearfilter.buttontext")},buttonStyle(){return"ktc-btn ktc-btn-default"}},methods:{handleClick(){this.clearFilter()}},props:{filterPhrase:{type:String},noResults:{type:Boolean},clearFilter:{type:Function}}}),k=n(6262);var _=(0,k.A)(v,[["render",function(e,t,n,i,o,r){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("div",h,(0,s.v_)(e.$_localizationService.getLocalization("widgetlist.clearfilter.header")),1),(0,s.Lk)("div",m,(0,s.v_)(e.$_localizationService.getLocalization("widgetlist.clearfilter.paragraph")),1),(0,s.Lk)("div",y,[(0,s.Lk)("kentico-submit-button",{".buttonText":e.buttonText,"on:buttonClick":t[0]||(t[0]=(0,s.D$)(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),".buttonStyle":e.buttonStyle},null,40,b)])],512)),[[s.aG,e.showButton]])}]]);var w=(0,i.N)((({popup:e})=>({filterPhrase:e.filterPhrase})),(()=>({clearFilter:()=>(0,g.R6)("")})))(_),T=(0,s.pM)({components:{ClearComponentFilterButton:w},computed:{popupTheme(){return u.cT.getTheme(this.popup.popupType)},headerTitle(){switch(this.popup.popupType){case p.GI.AddWidget:return this.$_localizationService.getLocalization("widget.headerTitle");case p.GI.AddSection:return this.$_localizationService.getLocalization("section.headerTitle");default:return""}},noComponentsAvailableMessage(){return this.$_localizationService.getLocalization("widgetlist.nowidgets")},containerStyle(){return this.popup&&this.popup.listingOffset?{top:this.popup.listingOffset.top+"px",left:this.popup.listingOffset.left+"px"}:null},hasItems(){return this.items.length>0}},methods:{onInsertComponent(e){this.selectItem(e.detail.key)}},props:{popup:{type:Object},isDnDActive:{type:Boolean},items:{type:Array},closePopup:{type:Function},selectItem:{type:Function}}});var S=(0,k.A)(T,[["render",function(e,t,n,i,o,r){const u=(0,s.g2)("ClearComponentFilterButton");return(0,s.uX)(),(0,s.CE)("div",{class:"ktc-add-component-pop-up",style:(0,s.Tr)(e.containerStyle)},[(0,s.bo)((0,s.Lk)("kentico-pop-up-container",{".theme":e.popupTheme,showBackButton:!1,".headerTitle":e.headerTitle,".horizontalPosition":e.popup.horizontalPosition,".verticalPosition":e.popup.verticalPosition,".columnType":e.popup.columnType,".localizationService":e.$_localizationService,triangle:"","on:selectItem":t[0]||(t[0]=(...t)=>e.onInsertComponent&&e.onInsertComponent(...t)),"on:closePopup":t[1]||(t[1]=(...t)=>e.closePopup&&e.closePopup(...t))},[(0,s.Lk)("div",c,[(0,s.RG)(e.$slots,"pop-up-content-filter",{},void 0,!0)]),(0,s.Lk)("div",l,[(0,s.RG)(e.$slots,"pop-up-content-top",{},void 0,!0)]),(0,s.Lk)("kentico-pop-up-listing",{slot:"pop-up-content",".items":e.items,".noItemsAvailableMessage":e.noComponentsAvailableMessage,".columnType":e.popup.columnType},[(0,s.bF)(u,{noResults:!e.hasItems,slot:"no-items"},null,8,["noResults"])],40,d)],40,a),[[s.aG,!e.isDnDActive]])],4)}],["__scopeId","data-v-455e8f4b"]]);var I=(0,i.N)((({popup:e,dragAndDrop:t,editableAreasConfiguration:n,widgetZonesConfiguration:i,metadata:r})=>{const s=n[e.areaIdentifier],a=i[e.zoneIdentifier],c=(0,o.D)(e.popupType,r,s,a);return{popup:e,isDnDActive:!!t.itemIdentifier,items:(0,o.d)(c,e.filterPhrase)}}),(()=>({closePopup:r.fs})))(S),O=n(3810),A=n(3696);var C=(0,s.pM)({methods:{onMouseOver(){const e=this.isBottom?this.position+1:this.position;if(this.containerIdentifier===this.dragAndDrop.sourceContainerIdentifier){if(e===(this.isBottom?this.dragAndDrop.originalPosition:this.dragAndDrop.originalPosition+1))return void(null!==this.dragAndDrop.dropMarkerPosition&&this.hideDropMarker())}this.containerIdentifier===this.dragAndDrop.targetContainerIdentifier&&e===this.dragAndDrop.dropMarkerPosition||this.showDropMarker(this.containerIdentifier,e)}},props:{containerIdentifier:{required:!0,type:String},position:{required:!0,type:Number},isBottom:{required:!1,default:!1,type:Boolean},dragAndDrop:{type:Object},hideDropMarker:{type:Function},showDropMarker:{type:Function}}});var E=(0,k.A)(C,[["render",function(e,t,n,i,o,r){return(0,s.uX)(),(0,s.CE)("div",{class:"ktc-dropzone",onMouseover:t[0]||(t[0]=(...t)=>e.onMouseOver&&e.onMouseOver(...t))},null,32)}],["__scopeId","data-v-96995a70"]]);var L=(0,i.N)((({dragAndDrop:e})=>({dragAndDrop:e})),(()=>({hideDropMarker:A._j,showDropMarker:A.Tg})))(E),j=n(6797);const D=[".configuration",".messages"],P=["src"];var M=n(8999),x=n(2320),z=n(1575),R=(0,s.pM)({data(){return{$refs:undefined,baseUnit:16,dialogContentHeight:0,isDialogContentLoaded:!1}},computed:{dialogConfiguration(){const{title:e,showFooter:t,applyButtonText:n,cancelButtonText:i,width:o,maximized:r,tabs:s,activeTabIndex:a}=this.dialog;return{title:e,showFooter:t,applyButtonText:n,cancelButtonText:i,tabs:s.map(((e,t)=>({title:e.title,iconClassName:e.iconClassName,active:t===a}))),theme:this.theme,showLoader:!this.isDialogContentLoaded,dialogIndex:this.dialogIndex,openedDialogsCount:this.openedDialogsCount,width:this.isDialogContentLoaded?o:"38%",maximized:!!this.isDialogContentLoaded&&r,setPosition:!0}},footerHeight(){return this.dialogConfiguration.showFooter?M.jz:0},dialogContentStringHeight(){return`${this.dialogContentHeight}px`},dialogMessages(){return{unsavedChanges:this.unsavedChangesMessage,loaderMessage:this.loaderMessage,closeTooltip:this.closeTooltip}},closeTooltip(){return this.$_localizationService.getLocalization("typelist.closeTooltip")},unsavedChangesMessage(){return this.$_localizationService.getLocalization("modalDialog.close.confirmation")},loaderMessage(){return this.$_localizationService.getLocalization("modaldialogs.loading")}},mounted(){(0,z.L)(document),window.addEventListener("resize",this.onResize)},beforeUnmount(){0===this.dialogIndex&&(0,z.Q)(document),window.removeEventListener("resize",this.onResize)},methods:{getDialogContentHeight(){const e=this.$refs.dialogContentWrapper,t=e.scrollHeight>e.contentDocument.body.scrollHeight?e.scrollHeight:e.contentDocument.body.scrollHeight,n=t+M.l7+this.footerHeight,i=window.innerHeight-2*this.baseUnit;return this.dialog.maximized||n>i?i-M.l7-this.footerHeight:t},onResize(){this.dialogContentHeight=this.getDialogContentHeight(),this.$nextTick((()=>{this.$refs.modalDialog.adjustDialogHeight(this.dialogContentHeight+M.l7+this.footerHeight)}))},onDialogApply(){this.applyDialog(this.$refs.dialogContentWrapper.contentWindow)},onDialogClose(){this.closeDialog(this.$refs.dialogContentWrapper.contentWindow)},onSelectTab({detail:e}){this.selectDialogTab(e)},onDialogContentLoaded(){this.isDialogContentLoaded=!0,this.injectResizeToIframe(),this.hookCancelScreenLock(),this.$nextTick((()=>{this.dialogContentHeight=this.getDialogContentHeight(),this.$nextTick((()=>{this.$refs.modalDialog.adjustDialogHeight(this.dialogContentHeight+M.l7+this.footerHeight)}))}))},injectResizeToIframe(){const e=this.$refs.dialogContentWrapper.contentWindow;e.kentico=e.kentico||{},e.kentico.modalDialog=e.kentico.modalDialog||{},e.kentico.modalDialog.resize=this.onResize},hookCancelScreenLock(){const e=this.$refs.dialogContentWrapper.contentDocument.documentElement;(0,x._)(e)}},props:{dialogIndex:{required:!0,type:Number},dialog:{type:Object},theme:{type:String},openedDialogsCount:{type:Number},applyDialog:{type:Function},closeDialog:{type:Function},selectDialogTab:{type:Function}}});var N=(0,k.A)(R,[["render",function(e,t,n,i,o,r){return(0,s.uX)(),(0,s.CE)("kentico-modal-dialog",{ref:"modalDialog",".configuration":e.dialogConfiguration,".messages":e.dialogMessages,onApply:t[1]||(t[1]=(...t)=>e.onDialogApply&&e.onDialogApply(...t)),onClose:t[2]||(t[2]=(...t)=>e.onDialogClose&&e.onDialogClose(...t)),"on:selectTab":t[3]||(t[3]=(...t)=>e.onSelectTab&&e.onSelectTab(...t)),onMousewheel:t[4]||(t[4]=(0,s.D$)((()=>{}),["prevent","stop"])),onMouseup:t[5]||(t[5]=(0,s.D$)((()=>{}),["stop"])),onMousedown:t[6]||(t[6]=(0,s.D$)((()=>{}),["stop"]))},[(0,s.bo)((0,s.Lk)("iframe",{ref:"dialogContentWrapper",class:"ktc-modal-dialog__content",src:e.dialog.markupUrl,style:(0,s.Tr)({height:e.dialogContentStringHeight}),onLoad:t[0]||(t[0]=(...t)=>e.onDialogContentLoaded&&e.onDialogContentLoaded(...t))},null,44,P),[[s.aG,e.isDialogContentLoaded]])],40,D)}],["__scopeId","data-v-f40b1028"]]);var B=(0,i.N)((({modalDialogs:e},{dialogIndex:t})=>({dialog:e.dialogs[t],openedDialogsCount:e.dialogs.length,theme:e.theme})),(()=>({closeDialog:j.zU,applyDialog:j.LG,selectDialogTab:j.wR})))(N),H=(n(9908),n(6485)),$=n(4679),W=n(9813),U=n(3687);const G=["display","section-type-list-position",".localizationService",".sectionTypeListTitleText",".sectionTypes",".activeSectionTypeIdentifier",".columnType"],q={slot:"sectionHeaderExtraButtons"};var F=n(7135),V=n.n(F),X=(0,s.pM)({data(){return{setOpacityTimeoutCancellationToken:!1,isMouseOver:!1,isFocused:!1}},computed:{sectionHeaderClasses(){return{"ktc-admin-ui":!0,"ktc-section-header-wrapper":!0,"ktc-section-header--hidden":!this.sectionHeaderPosition,"ktc-section-header-wrapper--focus":this.isFocused}},getSectionTypeListTitleText(){return this.$_localizationService.getLocalization("section.typelist.title")}},mounted(){V().addOne(this.$el)},beforeUnmount(){V().removeOne(this.$el)},methods:{onToggleSectionTypeList(){this.sectionTypeListPosition?this.closePopup():this.openPopup(this.sectionIdentifier,this.calculatePopupPosition(),p.nl.Bottom,p.GI.ChangeSection)},onClosePopup(e){this.isMouseOver=!1,this.setOpacityTimeoutCancellationToken=!0,this.$emit(e.type,e)},onChangeSection(e){this.isFocused=!1,this.$emit("changeSection",e)},highlightHeader(){this.isMouseOver=!0,this.isFocused||(this.setOpacityTimeoutCancellationToken=!1,setTimeout((()=>{this.setOpacityTimeoutCancellationToken||(this.isFocused=!0)}),300))},unhighlightHeader(){this.isMouseOver=!1,this.setOpacityTimeoutCancellationToken=!0,this.isFocused&&!this.sectionTypeListPosition&&(this.isFocused=!1)},calculatePopupPosition(){const e=window.innerWidth*M.qg+10;return this.$el.getBoundingClientRect().left-e>=0?p.lD.Left:p.lD.Right},onSectionTypeListPositionChange(e){this.isMouseOver||e||(this.isFocused=!1)},onBorderHighlightedChange(e){e?this.highlightHeader():this.unhighlightHeader()}},props:{areaIdentifier:{required:!0,type:String},sectionIdentifier:{required:!0,type:String},showSectionTypeList:{required:!0,type:Boolean},sectionType:{required:!0,type:String},highlighted:{required:!0,type:Boolean},sectionTypeListPosition:{type:String},sectionHeaderPosition:{type:String},availableSectionTypes:{type:Array},columnType:{type:String},openPopup:{type:Function},closePopup:{type:Function}},watch:{sectionTypeListPosition:[{handler:"onSectionTypeListPositionChange"}],highlighted:[{handler:"onBorderHighlightedChange"}]}});var Q=(0,k.A)(X,[["render",function(e,t,n,i,o,r){return(0,s.uX)(),(0,s.CE)("div",{class:(0,s.C4)(e.sectionHeaderClasses)},[(0,s.Lk)("kentico-section-header",{display:e.sectionHeaderPosition,"section-type-list-position":e.sectionTypeListPosition,".localizationService":e.$_localizationService,".sectionTypeListTitleText":e.getSectionTypeListTitleText,".sectionTypes":e.availableSectionTypes,".activeSectionTypeIdentifier":e.sectionType,".columnType":e.columnType,"on:removeSection":t[0]||(t[0]=t=>e.$emit(t.type,t)),"on:toggleSectionTypeList":t[1]||(t[1]=(...t)=>e.onToggleSectionTypeList&&e.onToggleSectionTypeList(...t)),"on:closePopup":t[2]||(t[2]=(...t)=>e.onClosePopup&&e.onClosePopup(...t)),"on:selectItem":t[3]||(t[3]=(...t)=>e.onChangeSection&&e.onChangeSection(...t))},[(0,s.Lk)("div",q,[(0,s.RG)(e.$slots,"sectionHeaderExtraButtons")])],40,G)],2)}]]);var Y=(0,i.N)((({highlightedSection:e,popup:t,editableAreasConfiguration:n,metadata:i},{areaIdentifier:o,sectionIdentifier:r})=>{const s=e.sectionIdentifier===r&&t.popupType===p.GI.ChangeSection,a=(0,H.cQ)(U.SL.PopUpElementsService),c=n[o].sectionRestrictions;return{sectionTypeListPosition:s?t.horizontalPosition:null,sectionHeaderPosition:e.sectionIdentifier===r?e.headerPosition:null,availableSectionTypes:a.getSectionElements((0,$.Zj)(c,i.sections)),columnType:t.columnType}}),(()=>({openPopup:W.PB,closePopup:W.fs})))(Q);n(5890),n(5860)},8999:function(e,t,n){"use strict";n.d(t,{Ee:function(){return d},Kr:function(){return i},Oq:function(){return o},Yp:function(){return a},dv:function(){return c},gE:function(){return g},jz:function(){return p},l7:function(){return u},qg:function(){return s},wg:function(){return l},zG:function(){return r}});const i="kenticoSectionRemove",o="kenticoSectionMounted",r=.3,s=.5,a=.7,c=40,l=250,d="ktc-global-component",u=36,p=64,g="ktc-properties-dialog"},6485:function(e,t,n){"use strict";n.d(t,{Wl:function(){return s},cQ:function(){return r},qx:function(){return o}});let i=null;const o=e=>{i=e},r=e=>i.get(e),s=e=>i.resolve(e)},3502:function(e,t,n){"use strict";var i;n.d(t,{J:function(){return i}}),function(e){e[e.PAGE=0]="PAGE",e[e.MEDIA=1]="MEDIA",e[e.ATTACHMENT=2]="ATTACHMENT",e[e.LOCAL=3]="LOCAL",e[e.EXTERNAL=4]="EXTERNAL"}(i||(i={}))},5812:function(e,t,n){"use strict";n.d(t,{L:function(){return a},l:function(){return c}});var i=n(3531),o=n(3687);const r=window.kentico=window.kentico||{},s=r._confirmDialog=r._confirmDialog||{},a=e=>{s.resolve(e)},c=e=>new Promise((t=>{s.resolve=t,(0,i.postMessage)(o.lA.CONFIRM,{message:e},"*")}))},2008:function(e,t,n){"use strict";n.d(t,{C:function(){return l},N:function(){return c}});var i=n(1829),o=n(1425),r=n(2325);const s=()=>({}),a=()=>({}),c=(e=s,t=a)=>n=>({name:`connected-${n.name}`,inject:["store"],data:()=>({state:null}),props:Object.assign({},(0,r._B)(n).props),render(){return(0,o.h)(n,Object.assign(Object.assign(Object.assign({},this.$props),this.stateToProps),this.dispatchToProps),this.$slots)},computed:{stateToProps(){return e(this.state,this.$props)},dispatchToProps(){return Object.assign({},(0,i.zH)(t(),this.store.dispatch))}},methods:{updateState(){this.state=this.store.getState()}},created(){this.unsubscribe=((t,n)=>{let i=e(t.getState(),this.$props||{});return t.subscribe((()=>{const o=e(t.getState(),this.$props);(0,r.bN)(i,o)||(i=o,n())}))})(this.store,this.updateState),this.updateState()},unmounted(){this.unsubscribe&&this.unsubscribe()}}),l=e=>({data(){return{store:e}},provide(){return{store:this.store}}})},3821:function(e,t,n){"use strict";n.d(t,{C:function(){return o},v:function(){return i}});const i=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},o=e=>e?e[0]:null},103:function(e,t,n){"use strict";n.d(t,{LR:function(){return a},dk:function(){return r},gz:function(){return c},l5:function(){return s}});var i=n(3829),o=n(3855);const r=(e,t,n)=>{t.innerHTML=e;const i=t.querySelectorAll("script");Array.prototype.forEach.call(i,(e=>{const t=e.parentNode,i=document.createElement("script");[...e.attributes].forEach((e=>{i.setAttribute(e.name,e.value)}));try{e.src?(i.classList.add("ktc-tmp-element"),i.classList.add(n),document.head.appendChild(i)):(i.innerHTML=e.innerHTML,t.replaceChild(i,e)),e.remove()}catch(e){o.v.logException(e)}}))},s=e=>{const t=document.head.querySelectorAll(`.${e}`);Array.prototype.forEach.call(t,(e=>{e.remove()}))},a=(e,t)=>{const n={},o=document.createElement("div");return o.innerHTML=e,t.forEach((e=>{const t=o.querySelectorAll(e);Array.prototype.forEach.call(t,(t=>{const o=(0,i.A)(),r=document.createElement("div");r.style.display="none",r.dataset.kenticoElementId=o;const s=document.createElement(e);s.innerHTML=t.innerHTML,t.src&&(s.src=t.src),t.type&&(s.type=t.type),n[o]=s,t.parentNode.replaceChild(r,t)}))})),{strippedMarkup:o.innerHTML,elementMappings:n}},c=(e,t)=>{const n=e.querySelectorAll("div[data-kentico-element-id]");Array.prototype.forEach.call(n,(e=>{const n=t[e.dataset.kenticoElementId];e.parentNode.replaceChild(n,e)}))}},2320:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var i=n(3531),o=n(3687);const r=()=>{setTimeout((()=>(0,i.postMessage)(o.lA.CANCEL_SCREENLOCK,null,"*")),1e3)},s=(e=document.documentElement)=>{e.addEventListener("mousedown",r,!0),e.addEventListener("keydown",r,!0)}},7934:function(e,t,n){"use strict";n.d(t,{k:function(){return o},z:function(){return i}});const i=(e,t,n)=>e&&r(e)+`${t}=${n}`,o=(e,t)=>e&&r(e)+Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&"),r=e=>e+(e.indexOf("?")>-1?"&":"?")},3855:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var i=n(6485),o=n(3531),r=n(3687);const s={logError:e=>{(0,o.postMessage)(r.lA.MESSAGING_ERROR,e,"*")},logException:e=>{console.error(e),(0,o.postMessage)(r.lA.MESSAGING_EXCEPTION,(0,i.cQ)(r.SL.LocalizationService).getLocalization("errors.generalerror"),"*")},logExceptionWithMessage:(e,t)=>{console.error(e),(0,o.postMessage)(r.lA.MESSAGING_EXCEPTION,t,"*")},logWarning:e=>{(0,o.postMessage)(r.lA.MESSAGING_WARNING,e,"*")}}},1575:function(e,t,n){"use strict";n.d(t,{L:function(){return r},Q:function(){return o}});const i="ktc-no-scroll",o=e=>{e.body.classList.remove(i)},r=e=>{e.body.classList.add(i)}},4772:function(){!function(e){try{return new MouseEvent("test"),!1}catch(e){}const t=function(t,n){n=n||{bubbles:!1,cancelable:!1};const i=document.createEvent("MouseEvent");return i.initMouseEvent(t,n.bubbles,n.cancelable,e,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||0,n.relatedTarget||null),i};t.prototype=Event.prototype,e.MouseEvent=t}(window)},6034:function(e,t,n){"use strict";n.d(t,{JB:function(){return r},bJ:function(){return o},bV:function(){return i},dU:function(){return s}});const i=".ktc-rich-text-wrapper",o="ktc-rich-text-value",r="Kentico.FormComponents.RichText.Initialize",s="ktc-tab-active"},7229:function(e,t,n){"use strict";n.d(t,{F:function(){return p}});var i=n(6034),o=n(3e3),r=n(4361);const s="Kentico.FormComponents.RichText.ApplyButtonAnimation",a="ktc-rich-text-form-component--fullscreen",c="ktc-btn-slide";class l{constructor(e,t){this.froalaEditor=e,this.formComponent=t,this.applyAndCloseButtonText=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applyandclosebutton"]}initialize(){this.ensureSaveButton(),this.ensureFullscreen()}ensureSaveButton(){const e=document.createElement("div");e.innerHTML=n(5308)({buttonText:this.applyAndCloseButtonText});const t=e.firstChild;t.addEventListener("click",(()=>{this.handleFullscreenExit(),t.remove()})),document.body.appendChild(t),this.froalaEditor.tooltip.bind(this.froalaEditor.$sc,".ktc-btn-rich-text-apply"),this.ensureApplyButtonAnimation(t)}ensureFullscreen(){document.body.classList.add(a),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.events.focus()}ensureApplyButtonAnimation(e){localStorage.getItem(s)||(setTimeout((()=>{e.classList.add(c)}),300),setTimeout((()=>{e.classList.remove(c)}),3e3),localStorage.setItem(s,"1"))}handleFullscreenExit(){const e=this.formComponent.querySelector(`.${i.bJ}`);this.froalaEditor.codeView.isActive()&&this.froalaEditor.codeView.toggle();const t=this.froalaEditor.html.get();e.value=(0,r.Ge)(t),e.dispatchEvent(new Event("change")),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.destroy();const n=this.froalaEditor.$oel[0];n.innerHTML="",this.formComponent.querySelector("[data-inline-editor]").appendChild(n),document.body.classList.remove(a)}}const d=e=>({toolbarInline:!1,iframe:!0,zIndex:10205,events:{initialized(){new l(this,e).initialize()}},iframeStyle:n(6092)()}),u=n(4466)(),p=(e,t,s,a,c=!0)=>{const l=e.querySelector(".ktc-btn"),p=e.querySelector(`.${i.bJ}`);l&&l.addEventListener("click",(()=>{const t=e.querySelector(i.bV);t.classList.add("ktc-rich-text-form-component__froala"),document.body.appendChild(t),(0,o.r)(t,d(e),p.value,c,a,s)})),p.value=t.html,p.addEventListener("change",(()=>{e.querySelector("iframe").srcdoc=(e=>(e=(0,r.Up)(e),n(2672)({html:e,froalaCss:u})))(p.value),""===p.value?e.classList.add("ktc-rich-text-form-component--empty"):e.classList.remove("ktc-rich-text-form-component--empty")})),p.dispatchEvent(new Event("change"))}},1111:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});const i=e=>"object"==typeof e},3972:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var i=n(4361);const o=(e,t,n)=>{const o=r({initialized(){if(e){const t=(0,i.jO)(e,this.opts.contextMacros);this.html.set(t)}},"html.set"(){(0,i.AG)(this)},contentChanged(){(0,i.AG)(this)}},t);return r(o,n)},r=(e,t)=>{if("object"!=typeof t.events)return e;const n=Object.assign({},e),i=Object.assign({},t.events);for(const[e,t]of Object.entries(n)){const o=i[e];"function"==typeof o&&(n[e]=function(...e){t.call(this,...e),o.call(this,...e)},delete i[e])}return Object.assign(Object.assign({},n),i)}},4339:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var i=n(7618),o=n.n(i),r=(n(576),n(373)),s=n(1338),a=n(9800),c=n(596);const l={codeMirror:o(),pasteDeniedAttrs:["id","style"],imageAllowedTypes:["gif","png","jpg","jpeg","svg","webp"],imageEditButtons:[s.l4,"imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageSize"],quickInsertButtons:[a.I7,a._j,"table","ul","ol","hr"],linkEditButtons:["linkOpen",a.ml,"linkRemove"],toolbarButtons:{moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["formatOL","formatUL","paragraphFormat","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","paragraphStyle","lineHeight","outdent","indent","quote"],buttonsVisible:2},moreRich:{buttons:[a.p1,a.wd,c.Dw,a.KB,"insertTable","emoticons","specialCharacters","insertHR"]},moreMisc:{buttons:["undo","redo",a.Xh,"selectAll","html","help"],buttonsVisible:2}}},d=(e,t,n,i)=>{const o=["script","style"];return i.htmlAllowedTags.includes("style")&&o.splice(o.indexOf("style"),1),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({htmlRemoveTags:o},l),t),n),i),{key:r.DEFAULTS.licenseKey,events:e,attribution:!1})}},1338:function(e,t,n){"use strict";n.d(t,{Bn:function(){return p},iS:function(){return a},ix:function(){return u},l4:function(){return r},oC:function(){return d},oy:function(){return s},pw:function(){return c},u$:function(){return i},v4:function(){return l},wd:function(){return o}});const i="kenticoImagePlugin",o="insertImage",r="imageReplace",s="image",a="closeImagePopup",c="openImageSelection",l="clearImageSelection",d="saveImage",u="updateImage",p=`${i}.popupImage`},7215:function(e,t,n){"use strict";n.d(t,{I:function(){return rt},p:function(){return ot}});var i=n(373),o=n.n(i),r=n(1338),s=n(9682),a=n(3821),c=n(7934),l=n(9709);class d{constructor(e,t,n){this.commandName=e,this.commandParameters=t,this.commandIcon=n}get getPluginType(){return null}register(){(0,i.RegisterCommand)(this.commandName,Object.assign(Object.assign({},this.commandParameters),{title:null!==this.getPluginType&&this.commandParameters.title?(0,l._9)(this.commandParameters.title,this.getPluginType):this.commandParameters.title})),this.commandIcon&&(0,i.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)}}var u=n(3465);const p=(e,t)=>(0,a.C)(e.popups.get(t)),g=(e,t,n,i,o,r,s)=>{e.popups.get(t)||(((e,t,n,i)=>{let o="";n.length>0&&(o+='<div class="fr-buttons">',o+=e.button.buildList(n),o+="</div>");const r={buttons:o};i&&(r.custom_layer=i),e.popups.create(t,r)})(e,t,n,s),i!==u.o.INSERT&&!e.opts.toolbarInline&&e.$wp&&e.events.$on(e.$wp,"scroll",(()=>{r&&r()&&e.popups.isVisible(t)&&g(e,t,n,i,o,r,s)})));const a=i===u.o.INSERT&&e.$tb||e.$sc;e.popups.refresh(t),e.popups.setContainer(t,a);const c=r?r().getBoundingClientRect():e.position.getBoundingRect(),{top:l,left:d,width:p,height:f}=c,h=d+p/2-o/2,m=l+window.pageYOffset+f;e.popups.show(t,h,m,f)},f=e=>{e.querySelectorAll(".fr-input-line input").forEach((e=>{e.addEventListener("focus",(function(){this.value||this.classList.add("fr-not-empty")})),e.addEventListener("blur",(function(){this.value||this.classList.remove("fr-not-empty")}))}))};class h{constructor(e,t){this.iconName=e,this.iconParameters=t}}class m extends d{get getPluginType(){return u.Q.ImagePlugin}}const y="ktc-image-selector--empty",b={title:"command.insertimage",icon:r.wd,focus:!0,undo:!0,refreshAfterCallback:!1,callback(e){const t=this.opts.toolbarInline?void 0:()=>(0,a.C)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoImagePlugin.showInsertImagePopup(t)}},v=new m(r.wd,b),k=new class extends d{register(){(0,i.RegisterQuickInsertButton)(this.commandName,this.commandParameters),this.commandIcon&&(0,i.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)}}(r.oy,b),_=new m(r.oC,{title:"",undo:!0,focus:!1,callback(){E(this)}}),w=new h(r.l4,{NAME:"editImage",SVG_KEY:"edit"}),T=new m(r.l4,{title:"command.editimage",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){this.kenticoImagePlugin.showConfigureImagePopup()}},w),S=new m(r.ix,{title:"",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){E(this,this.image.get())}}),I=new h(r.iS,{NAME:"arrow-left",SVG_KEY:"back"}),O=new m(r.iS,{title:"command.back",undo:!1,focus:!1,callback(){this.kenticoImagePlugin.closeImageConfigurationPopup()}},I),A=new m(r.pw,{title:"",undo:!1,focus:!1,async callback(){const{opts:e}=this,{contentSelector:t}=window.kentico.modalDialog,{imageUrl:n}=P(this),i=`.${e.imageAllowedTypes.join(";.")}`;let o=null;if(n){const e=this.opts.getLinkMetadataEndpointUrl,{linkType:t,linkMetadata:i}=await(0,l.Af)(e,n),r=(0,l.U$)(t);o=null===i?null:{type:r,items:[{value:i.identifier}]}}t.open({tabs:["media","attachment"],selectedItems:o,mediaOptions:{allowedExtensions:i},attachmentOptions:{allowedExtensions:i},applyCallback:L(this)})}}),C=new m(r.v4,{title:"",undo:!1,focus:!1,callback(){const e=p(this,r.Bn),t=D(e);t.selector.classList.add(y),t.urlField.value="",t.urlField.focus(),t.preview.src="",t.preview.alt=""}}),E=(e,t)=>{const{imageUrl:n,alternativeText:i}=P(e);n?(e.image.insert(n,!0,{alt:i},t),e.kenticoImagePlugin.closeImageConfigurationPopup()):e.kenticoImagePlugin.closeImageConfigurationPopup()},L=e=>async({items:t,type:n})=>{if(t&&t.length){const i=p(e,r.Bn);if(!i)return;const{url:o,description:a,thumbnailUrls:l,fileGuid:d}=t[0];let u=a;if(e.opts.isImageRecognitionEnabled&&0===u.length){const t=(0,c.k)(e.opts.getImageDescriptionEndpointUrl,{guid:d,type:n});u=(await s.LV.post(t)).data}j(i,o,l.large,u)}},j=(e,t,n,i)=>{const o=D(e);o.selector.classList.remove(y),o.urlField.value=t,o.altText.value=i,o.altText.classList.add("fr-not-empty"),o.altText.focus(),o.preview.src=n},D=e=>({selector:e.querySelector(".ktc-image-selector"),urlField:e.querySelector("input[name='imageUrl']"),altText:e.querySelector("input[name='altText']"),preview:e.querySelector(".ktc-selector-item-preview")}),P=e=>{var t,n;const i=p(e,r.Bn).querySelector(".ktc-popup-form"),o=new FormData(i);return{imageUrl:null===(t=o.get("imageUrl"))||void 0===t?void 0:t.trim(),alternativeText:null===(n=o.get("altText"))||void 0===n?void 0:n.trim()}},M=[v,T,k,O,A,C,_,S],x=e=>(0,l._9)(e,u.Q.ImagePlugin),z="ktc-configure-popup";function R(e){H(this,u.o.INSERT,e)}function N(){const e=(0,a.C)(this.image.get());e&&H(this,u.o.UPDATE,(()=>e),e.getAttribute("src"),e.alt)}function B(){this.popups.hide(r.Bn)}const H=(e,t,i,o="",s="")=>{const a=`<div class="${z}"></div>`;g(e,r.Bn,e.opts.popupInsertImageButtons,t,300,i,a);const c=p(e,r.Bn);c.querySelector(`.${z}`).innerHTML=((e,t)=>n(518)({contentSelectionCommand:r.pw,clearSelectionCommand:r.v4,submitCommand:e?r.ix:r.oC,imageUrl:e,altText:t,imageUrlLabel:x("label.imageurl"),clearSelectionButtonText:x("actionbutton.clear"),contentSelectionButtonText:x("actionbutton.select"),altTextLabel:x("label.alttext"),submitButtonText:x(e?"actionbutton.update":"actionbutton.insert")}))(o,s),f(c);const l=e.popups.get(r.Bn);e.accessibility.focusPopup(l)},$=function(e){const t={showInsertImagePopup:R,showConfigureImagePopup:N,closeImageConfigurationPopup:B};return Object.keys(t).forEach((n=>{t[n]=t[n].bind(e)})),t};var W=n(3502),U=n(9094);class G extends d{get getPluginType(){return u.Q.LinkPlugin}}var q=n(9800);class F{constructor(e,t="",n=!1,i=!1,o){this.linkAttributes=null!=o?o:{},"string"==typeof e?(this.linkText=0===e.trim().length?"":e,this.linkURL=t,this.openInNewTab=n,this.isImageLink=i):(this.linkText=e.text,this.linkURL=e.getAttribute("href")||"",this.openInNewTab="_blank"===e.target,this.isImageLink=!!e.querySelector("img"),Array.from(e.attributes).forEach((e=>{this.linkAttributes[e.name]=e.value})))}}let V,X;const Q=e=>function(t){const n=(0,a.C)(t);n&&((this.link.get()?!e:e)?n.classList.remove("fr-hidden"):n.classList.add("fr-hidden"))},Y={title:"command.insertlink",focus:!1,undo:!1,plugin:q.V,refreshAfterCallback:!0,callback(e){this.selection.save();const t=this.selection.text(),n=(0,a.C)(this.image.get()),i=!!n;if(V=new F(t,"",!1,i),X=new U.W(W.J.PAGE),i&&n)this.kenticoLinkPlugin.showInsertLinkPopup(V,(()=>this.image.get()[0]));else if(this.opts.toolbarInline)this.kenticoLinkPlugin.showInsertLinkPopup(V);else{const t=()=>(0,a.C)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoLinkPlugin.showInsertLinkPopup(V,t)}}},Z=new G(q.p1,Y),K=new G(q.VA,Object.assign(Object.assign({},Y),{refresh:Q(!0)})),J=new h(q.Lq,{NAME:"arrow-left",SVG_KEY:"back"}),ee=new G(q.Lq,{title:"command.back",undo:!1,focus:!1,callback(){this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},J),te={title:"",undo:!0,focus:!1,callback(){const e=ue(this);if(!e)return void this.kenticoLinkPlugin.closeLinkConfigurationPopup();const t=this.link.get();t&&t.removeAttribute("target"),e.openInNewTab&&(e.linkAttributes.target="_blank"),this.link.insert(e.linkURL,e.linkText,e.linkAttributes),this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},ne=new G(q.Le,te),ie=new h(q.ml,{NAME:"editLink",SVG_KEY:"insertLink"}),oe=new G(q.ml,{title:"command.editlink",undo:!1,focus:!1,refresh:Q(!1),async callback(){const e=this.link.get(),t=new F(e),n=this.opts.getLinkMetadataEndpointUrl;X=await(0,l.Af)(n,t.linkURL),this.kenticoLinkPlugin.showLinkConfigurationPopup(t,X)}},ie),re=new G(q.NS,{title:"",undo:!1,focus:!1,callback(){const e=p(this,q.qn),t=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),n=e.querySelector("input[name='linkUrl']");t.disabled=!1,t.value="",t.focus(),n.value="",X=null}}),se=new G(q._B,{title:"command.openlink",undo:!1,focus:!1,callback(){const e=this.link.get();e&&window.open(e.href,"_blank")}}),ae={title:"",undo:!1,focus:!1,callback(){const{contentSelector:e}=window.kentico.modalDialog;let t={applyCallback:le(this)};const n=X&&X.linkMetadata&&X.linkMetadata.identifier;n&&(t=Object.assign(Object.assign({},t),{selectedItems:{type:(0,l.U$)(X.linkType),items:[{value:n}]}})),e.open(t)}},ce=new G(q.hm,ae),le=e=>({type:t,items:n})=>{if(n&&n.length){const i=p(e,q.qn),o=e.link.get(),r=new F(o?o.text:e.selection.text());if(!i)return;if("page"===t){const{name:e,nodeGuid:o,url:s}=n[0];de(i,r,e,t,s,o)}else{const{url:e,name:o,fileGuid:s,extension:a}=n[0];de(i,r,a?o+a:o,t,e,s)}}},de=(e,t,n,i,o,r)=>{const s=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),a=e.querySelector("input[name='linkUrl']"),c=e.querySelector("input[name='linkText']");a.value=o,s.value=s.title=n,s.classList.add("fr-not-empty"),s.disabled=!0,c&&!c.value&&(c.value=n,c.classList.add("fr-not-empty")),X=new U.W(ge(i),t.linkURL,{name:n,identifier:r})},ue=e=>{const t=p(e,q.qn);if(!t)return null;const n=pe(t,e.opts.linkAttributes),i=t.querySelector(".ktc-selector-item"),o=!i.disabled?i.value:n.linkURL,r=n.linkText?n.linkText:i.value;return o?new F(r,o,n.openInNewTab,!1,n.linkAttributes):null},pe=(e,t)=>{const n=e.querySelector(".ktc-popup-form"),i=new FormData(n),o=Object.keys(t).reduce(((e,t)=>(e[t]=i.get(t),e)),{});return{linkURL:i.get("linkUrl"),linkText:i.get("linkText"),openInNewTab:Boolean(i.get("openInNewTab")),isImageLink:!1,linkAttributes:o}},ge=e=>{switch(e){case"page":return W.J.PAGE;case"media":return W.J.MEDIA;case"attachment":return W.J.ATTACHMENT;default:return null}},fe=[Z,K,oe,ee,re,ne,ce,se],he=e=>(0,l._9)(e,u.Q.LinkPlugin),me="ktc-configure-popup";function ye(e,t){ve(this,e,new U.W(W.J.EXTERNAL),u.o.INSERT,t)}function be(e,t){ve(this,e,t,u.o.UPDATE,(()=>this.link.get()))}const ve=(e,t,i,o,r)=>{const s=`<div class="${me}"></div>`,a=q.qn;g(e,a,e.opts.popupInsertLinkButtons,o,q.jY,r,s);const c=p(e,a);if(!c)return;const{linkType:l}=i,d=c.querySelector(`.${me}`);if(!d)return;const h=[W.J.PAGE,W.J.MEDIA,W.J.ATTACHMENT].includes(l)?i.linkMetadata.name:null;if(l===W.J.LOCAL){const{linkText:e,openInNewTab:n,linkAttributes:o}=t;t=new F(e,i.linkURL,n,void 0,o)}const m=Object.keys(e.opts.linkAttributes).reduce(((n,i)=>(n[i]={label:e.opts.linkAttributes[i],value:null===t.linkAttributes?"":t.linkAttributes[i]},n)),{});d.innerHTML=((e,t,i,o,r)=>n(7760)({link:e||t.linkURL,linkLabel:he("label.link"),linkUrl:t.linkURL,linkText:t.linkText,linkTextLabel:he("label.text"),linkAttributes:r,isContentLinkType:i===W.J.PAGE||i===W.J.MEDIA||i===W.J.ATTACHMENT,isFormBuilder:void 0!==window.kentico.formBuilder,imageLink:t.isImageLink,openInNewTabLabel:he("label.openinnewtab"),openInNewTab:t.openInNewTab,command:q.Le,clearSelectionCommand:q.NS,contentSelectionCommand:q.hm,clearSelectionButtonText:he("actionbutton.clear"),contentSelectionButtonText:he("actionbutton.select"),actionButtonText:he(o===u.o.INSERT?"actionbutton.insert":"actionbutton.save")}))(h,t,l,o,m),f(c);const y=e.popups.get(a);e.accessibility.focusPopup(y)};function ke(){this.popups.hide(q.qn)}const _e=function(e){const t={showInsertLinkPopup:ye,showLinkConfigurationPopup:be,closeLinkConfigurationPopup:ke};return Object.keys(t).forEach((n=>{t[n]=t[n].bind(e)})),t};var we=n(4425),Te=n.n(we);class Se extends d{get getPluginType(){return u.Q.MacroPlugin}}var Ie,Oe=n(596),Ae=n(696),Ce=n(2234);function Ee(e){const t=this.kenticoMacroPlugin.getActiveMacro();t&&t.classList.remove(Oe.rH),e.classList.add(Oe.rH),g(this,Oe.Dj,this.opts.popupActionButtons,u.o.UPDATE,Oe.hN,(()=>this.kenticoMacroPlugin.getActiveMacro()))}function Le(){this.popups.hide(Oe.Dj);const e=this.el.querySelector(`.${Oe.rH}`);e&&e.classList.remove(Oe.rH)}!function(e){e.URL="query",e.CONTEXT="pattern"}(Ie||(Ie={}));var je=n(6034);const De=(e,t,n)=>function(i,o,r="",s=""){g(this,e,t,i,Oe.g5,o,'<div class="ktc-configure-popup"></div>'),Pe(this,e,i,n,r,s)},Pe=(e,t,n=u.o.INSERT,i,o="",r="")=>{r=r.trim().replace(/"/g,"&quot;");const s=p(e,t);if(s){const a=s.querySelector(".ktc-configure-popup");let c;i===Ie.URL?(a.innerHTML=(0,Ce.Rl)(n,o,r),c=Oe.R_):(a.innerHTML=(0,Ce.m8)(n,e.opts.contextMacros,o,r),c=Oe.gu);const l=s.querySelector(`.fr-command.${je.dU}`);l&&l.classList.remove(je.dU);if(s.querySelector(`.fr-command[data-cmd="${c}"]`).classList.add(je.dU),f(s),i===Ie.URL){const n=e.popups.get(t);e.accessibility.focusPopup(n)}}};let Me;const xe=new h(Oe.Dw,{PATH:Oe.jC,template:"svg"}),ze=new Se(Oe.Dw,{title:"command.insertdynamictext",icon:Oe.Dw,focus:!1,undo:!1,plugin:Oe._0,refreshAfterCallback:!0,callback(e){this.selection.save(),Me=this.selection.text();const t=this.opts.toolbarInline?void 0:()=>(0,a.C)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoMacroPlugin.showConfigurationPopup(u.o.INSERT,t,void 0,Me)}},xe),Re={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback(e){this.selection.restore();const t=p(this,Oe.W1);if(t){this.undo.saveStep();const n=t.querySelector("#ktc-macro-popup-form"),i=new FormData(n),o=e===Oe.Lu?Ie.URL:Ie.CONTEXT,r=this.opts.contextMacros;let s="",a="";if(o===Ie.URL){const e=i.get("urlParameterName");s=encodeURI(e),a=(0,Ae.G)(r,e)}else o===Ie.CONTEXT&&(s=i.get("contextMacroType"),a=(0,Ae.G)(r,s));const c=Te()(i.get("defaultText"));if(s){const e=(0,Ce.wk)(o,s,c,a);this.html.insert(e)}this.kenticoMacroPlugin.hideConfigurationPopup()}}},Ne=new Se(Oe.$N,Re),Be=new Se(Oe.Lu,Re),He=new Se(Oe.du,Re),$e={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback(e){const t=this.el.querySelector(`.${Oe.rH}`),n=e===Oe.Fp?Oe.nE:e===Oe.n7?Oe.p2:"",i=p(this,n);if(i&&t){this.undo.saveStep();const n=i.querySelector("#ktc-macro-popup-form"),o=new FormData(n),r=o.get(e===Oe.Fp?"urlParameterName":"contextMacroType"),s={macroValue:encodeURI(r),macroDefaultValue:Te()(o.get("defaultText"))};s.macroValue&&(t.value=(0,Ae.G)(this.opts.contextMacros,r),Object.assign(t.dataset,s)),this.kenticoMacroPlugin.hidePopups()}}},We=new Se(Oe.Fp,$e),Ue=new Se(Oe.n7,$e),Ge=new Se(Oe.gi,{title:"command.removemacro",icon:"remove",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){const e=this.el.querySelector(`.${Oe.rH}`);e&&(this.undo.saveStep(),e.remove()),this.kenticoMacroPlugin.hideActionsPopup()}}),qe=new h(Oe.qs,{NAME:"cog-wheel",SVG_KEY:"cogs"}),Fe=new Se(Oe.qs,{title:"command.configuremacro",undo:!1,focus:!1,callback(){const e=()=>this.kenticoMacroPlugin.getActiveMacro(),t=e();if(t){const n=t.dataset,{macroValue:i,macroDefaultValue:o,macroType:r}=n;r===Ie.URL?this.kenticoMacroPlugin.showConfigureUrlPopup(u.o.UPDATE,e,i,o):this.kenticoMacroPlugin.showConfigureContextMacroPopup(u.o.UPDATE,e,i,o)}}},qe),Ve=new h("macro",{PATH:Oe.fR,template:"svg"}),Xe=new Se(Oe.gu,{title:"command.contactattribute",icon:"macro",undo:!1,focus:!1,callback(){Pe(this,Oe.W1,u.o.INSERT,Ie.CONTEXT,void 0,Me)}},Ve),Qe=new h("queryString",{PATH:Oe.Cs,template:"svg"}),Ye=new Se(Oe.R_,{title:"command.urlparameter",icon:"queryString",undo:!1,focus:!1,callback(){Pe(this,Oe.W1,u.o.INSERT,Ie.URL,void 0,Me)}},Qe),Ze=new h("popupConfigureClose",{NAME:"arrow-left",SVG_KEY:"back"}),Ke=[ze,Ge,Fe,new Se(Oe.Zz,{title:"command.popupback",undo:!1,focus:!1,callback(){this.kenticoMacroPlugin.hideConfigurationPopup()}},Ze),Xe,Ye,Ne,Be,He,We,Ue];function Je(){this.popups.isVisible(Oe.Dj)&&this.popups.hide(Oe.Dj),tt.call(this)}function et(){return this.el.querySelector(`.${Oe.rH}`)}function tt(){this.popups.isVisible(Oe.nE)&&this.popups.hide(Oe.nE),this.popups.isVisible(Oe.p2)&&this.popups.hide(Oe.p2),this.popups.isVisible(Oe.W1)&&this.popups.hide(Oe.W1)}const nt=function(e){const t=e.opts.popupConfigureButtons,n=e.opts.contextMacros?t:t.filter((e=>e!==Oe.gu)),i={getActiveMacro:et,showActionsPopup:Ee,hideActionsPopup:Le,showConfigureContextMacroPopup:De(Oe.p2,e.opts.popupEditContextMacroButtons,Ie.CONTEXT),showConfigureUrlPopup:De(Oe.nE,e.opts.popupEditUrlMacroButtons,Ie.URL),showConfigurationPopup:De(Oe.W1,n,Ie.URL),hideConfigurationPopup:tt,hidePopups:Je};return Object.keys(i).forEach((t=>{i[t]=i[t].bind(e)})),i};let it=!1;const ot=()=>{Object.assign(i.POPUP_TEMPLATES,{[r.Bn]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupInsertImageButtons:[r.iS,"|"]}),M.forEach((e=>e.register())),i.PLUGINS[r.u$]=$,Object.assign(i.POPUP_TEMPLATES,{[Oe.Dj]:"[_BUTTONS_]",[Oe.W1]:"[_BUTTONS_][_CUSTOM_LAYER_]",[Oe.nE]:"[_BUTTONS_][_CUSTOM_LAYER_]",[Oe.p2]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupActionButtons:[Oe.gi,Oe.qs],popupConfigureButtons:[Oe.Zz,"|",Oe.R_,Oe.gu],popupEditUrlMacroButtons:[Oe.Zz,"|",Oe.R_],popupEditContextMacroButtons:[Oe.Zz,"|",Oe.gu]}),Ke.forEach((e=>e.register())),i.PLUGINS[Oe._0]=nt,Object.assign(i.POPUP_TEMPLATES,{[q.qn]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupInsertLinkButtons:[q.Lq,"|"]}),fe.forEach((e=>e.register())),i.PLUGINS[q.V]=_e},rt=()=>{var e;if(!it){const t=null===(e=window.kentico.pageBuilder.richTextEditor)||void 0===e?void 0:e.plugins;null==t||t.forEach((e=>e(o()))),it=!0}}},9094:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});class i{constructor(e,t=null,n=null){this.linkType=e,this.linkURL=t,this.linkMetadata=n}}},9800:function(e,t,n){"use strict";n.d(t,{I7:function(){return c},KB:function(){return s},Le:function(){return g},Lq:function(){return p},NS:function(){return f},V:function(){return i},VA:function(){return a},Xh:function(){return m},_B:function(){return u},_j:function(){return l},hm:function(){return h},jY:function(){return b},ml:function(){return d},p1:function(){return o},qn:function(){return y},wd:function(){return r}});const i="kenticoLinkPlugin",o="insertLink",r="insertImage",s="insertVideo",a="imageLink",c="image",l="video",d="linkEdit",u="linkOpen",p="closeLinkPopup",g="saveLink",f="clearSelection",h="openContentSelection",m="fullscreen",y=`${i}.popupLink`,b=300},596:function(e,t,n){"use strict";n.d(t,{$N:function(){return o},Cs:function(){return S},Dj:function(){return b},Dw:function(){return l},Fp:function(){return s},Lu:function(){return g},R_:function(){return p},W1:function(){return k},Zz:function(){return d},_0:function(){return i},du:function(){return f},fR:function(){return I},g5:function(){return v},gi:function(){return r},gu:function(){return u},hN:function(){return y},jC:function(){return T},mm:function(){return h},n7:function(){return a},nE:function(){return _},p2:function(){return w},qs:function(){return c},rH:function(){return m}});const i="kenticoMacroPlugin",o="insertMacro",r="removeMacro",s="updateUrlParameterMacro",a="updateContextMacro",c="configureMacro",l="insertDynamicText",d="popupConfigureClose",u="openMacroTab",p="openQueryTab",g="insertUrlMacro",f="insertContextMacro",h="ktc-macro",m=`${h}-active`,y=102,b=`${i}.popup`,v=300,k=`${i}.popupConfigure`,_=`${i}.popupUrl`,w=`${i}.popupContext`,T="m 1,12 3,-5 3,5 z m 22,0 -3,5 -3,-5 z M 8.34277,8.21484 h 7.82663 l 0.0127,2.62156 H 15.8076 C 15.6849,9.9012 15.3337,9.26855 14.7539,8.93848 14.4281,8.75651 13.9414,8.65706 13.2939,8.64014 v 6.84276 c 0,0.4782 0.0826,0.7956 0.2476,0.9522 0.1693,0.1565 0.5184,0.2348 1.0474,0.2348 V 17 H 9.95508 v -0.3301 c 0.50782,0 0.84422,-0.0783 1.00932,-0.2348 0.1692,-0.1608 0.2539,-0.4782 0.2539,-0.9522 V 8.64014 C 10.5835,8.65706 10.0968,8.75651 9.7583,8.93848 9.13623,9.27702 8.78499,9.90967 8.70459,10.8364 H 8.33008 Z M 12,19 c 2.3972,0 4.513,-1.205 5.7746,-3.0423 l 1.1063,1.8438 C 17.23,19.7576 14.7601,21 12,21 7.02944,21 3,16.9706 3,12 3,11.662 3.01863,11.3283 3.05493,11 H 5.07089 C 5.02417,11.3266 5,11.6605 5,12 c 0,3.866 3.13401,7 7,7 z M 6.2254,8.04233 C 7.48704,6.205 9.6028,5 12,5 c 3.866,0 7,3.13401 7,7 0,0.3395 0.0467,-0.3266 0,0 h 2 c 0.0363,-0.3283 0,0.338 0,0 C 21,7.02944 16.9706,3 12,3 9.23993,3 6.77005,4.24243 5.11912,6.19853 Z",S="M16.456941 4.788366C14.346076 4.788366 12.619002 6.6581714 12.619002 8.943489C12.619002 8.943489 14.537971 8.943489 14.537971 8.943489C14.537971 7.8008302 15.401507 6.8659275 16.456941 6.8659275C17.512374 6.8659275 18.375911 7.8008302 18.375911 8.943489C18.375911 11.021051 15.497455 10.709418 15.497455 14.137394C15.497455 14.137394 15.497455 15.176174 15.497455 15.176174C15.497455 15.176174 17.416426 15.176174 17.416426 15.176174C17.416426 15.176174 17.416426 14.137394 17.416426 14.137394C17.416426 11.852075 20.294881 11.540442 20.294881 8.943489C20.294881 6.6581714 18.567807 4.788366 16.456941 4.788366C16.456941 4.788366 16.456941 4.788366 16.456941 4.788366M15.497455 17.253737C15.497455 17.253737 17.416426 17.253737 17.416426 17.253737C17.416426 17.253737 17.416426 19.331299 17.416426 19.331299C17.416426 19.331299 15.497455 19.331299 15.497455 19.331299C15.497455 19.331299 15.497455 17.253737 15.497455 17.253737M10.170443 4.7001474C10.170443 4.7001474 3.8418003 19.29756 3.8418003 19.29756C3.8418003 19.29756 5.8253586 19.28441 5.8253586 19.28441C5.8253586 19.28441 12.164521 4.7137829 12.164521 4.7137829",I="M 16,16 H 22 V 18 H 16 Z M 14,6 H 22 V 8 H 14 Z M 14,11 H 22 V 13 H 14 Z M 8,5.0572534 C 6.3794438,5.0572534 5.0572534,6.3794438 5.0572534,8 5.057254,9.6205557 6.3794443,10.942747 8,10.942747 9.6205553,10.942746 10.942746,9.6205553 10.942747,8 10.942747,6.3794443 9.6205557,5.057254 8,5.0572534 Z M 14,19 H 2 C 2,19 1.99997,12 7.99997,12 14,12 14,19 14,19 Z"},696:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var i=n(9709),o=n(3465);const r=(e,t)=>e&&e[t]||`${(0,i._9)("macroelement.urlparameterprefix",o.Q.MacroPlugin)}: ${t}`},2234:function(e,t,n){"use strict";n.d(t,{Rl:function(){return c},m8:function(){return l},wk:function(){return a}});var i=n(3465),o=n(596),r=n(9709);const s=e=>(0,r._9)(e,i.Q.MacroPlugin),a=(e,t,i,r)=>n(3118)({macroClass:o.mm,macroType:e,macroValue:t,macroDefaultValue:i,macroDisplayValue:r}),c=(e=i.o.INSERT,t="",r="")=>n(9454)({value:t,defaultValue:r,actionButtonText:e===i.o.INSERT?s("actionbutton.insert"):s("actionbutton.save"),defaultTextLabel:s("label.defaulttext"),urlParameterLabel:s("label.urlparameter"),command:e===i.o.INSERT?o.Lu:o.Fp}),l=(e,t,r="",a="")=>n(7279)({macros:t,macroValue:r,macroDefaultValue:a,actionButtonText:e===i.o.INSERT?s("actionbutton.insert"):s("actionbutton.save"),defaultTextLabel:s("label.defaulttext"),macroTypeLabel:s("label.contactattribute"),command:e===i.o.INSERT?o.du:o.n7})},9709:function(e,t,n){"use strict";n.d(t,{Af:function(){return d},U$:function(){return l},_9:function(){return c}});var i=n(6485),o=n(3502),r=n(7934),s=n(3687),a=n(9094);const c=(e,t)=>{const n=`kentico.components.widget.richtext.${t}`;return(0,i.cQ)(s.SL.LocalizationService).getLocalizationWithoutPrefix(`${n}.${e}`)||`${n}.${e}`},l=e=>{switch(e){case 0:return"page";case 1:return"media";case 2:return"attachment";default:return null}},d=async(e,t)=>{const n=(0,r.z)(e,"linkUrl",encodeURIComponent(t));try{const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);return e.json()}catch(e){console.error(e)}return new a.W(o.J.EXTERNAL)}},3465:function(e,t,n){"use strict";var i,o;n.d(t,{Q:function(){return i},o:function(){return o}}),function(e){e.MacroPlugin="macroplugin",e.LinkPlugin="linkplugin",e.ImagePlugin="imageplugin"}(i||(i={})),function(e){e[e.INSERT=0]="INSERT",e[e.UPDATE=1]="UPDATE"}(o||(o={}))},1343:function(e,t,n){"use strict";n.d(t,{B:function(){return l},m:function(){return T}});var i=n(4692),o=n.n(i),r=(n(5458),n(6485)),s=n(3821),a=n(3687);const c="data-value-for",l="ktc-object-selector-dropdown",d="ktc-object-selector-container",u="ktc-object-selector-dropdown__search--hide",p="select2-search__field",g="ktc-object-selector-dropdown--searching",f="ktc-object-selector-wrapper--height-limited",h=o().fn.select2.amd.require("select2/utils"),m=o().fn.select2.amd.require("select2/dropdown"),y=o().fn.select2.amd.require("select2/dropdown/search"),b=o().fn.select2.amd.require("select2/dropdown/minimumResultsForSearch"),v=o().fn.select2.amd.require("select2/dropdown/attachBody"),k=o().fn.select2.amd.require("select2/dropdown/dropdownCss"),_=h.Decorate(h.Decorate(h.Decorate(h.Decorate(m,y),b),k),v);let w=!1;const T=()=>{document.addEventListener("Kentico.Selector.ObjectSelector.Initialize",(e=>{const t=o()(e.target);let n=!1;const i=parseInt(t.attr("data-max-items-limit"),10),r=1!==i;t.removeAttr("name");let a={multiple:r,maximumSelectionLength:r?i:0,placeholder:I("noitemselected"),minimumResultsForSearch:7,closeOnSelect:!r,selectionCssClass:`${d} ktc-form-control`,dropdownCssClass:`${l} ${u}`,ajax:{url:t.attr("data-get-objects-endpoint-url"),dataType:"json",delay:400,data:e=>({pageIndex:(null==e?void 0:e.page)-1||0,searchTerm:e.term}),processResults:(e,t)=>({results:e.items.map((e=>({id:JSON.stringify(e.value),text:e.text}))),pagination:{more:e.nextPageAvailable}}),transport(e,i,r){const s=o().ajax(e);return s.then((e=>{if(!n){const e=t.data("select2").$dropdown.find(`.${l}`);e.removeClass(u),e.find(`input.${p}`).focus(),n=!0}return e})).then(i),s.fail(r),s},cache:!0},language:{loadingMore:()=>I("loadingmore"),noResults:()=>I("noresults"),searching:()=>I("searching")}};r&&(a=Object.assign(Object.assign({},a),{dropdownAdapter:_,templateResult:e=>o()("<span>"+e.text+"</span>")})),t.select2(a),S(t,r);const c=t[0].closest(".ktc-object-selector-wrapper"),g=c.querySelector(".clear-button");if(g.addEventListener("click",(()=>{t.empty().val(null).trigger("change"),O((0,s.C)(t))})),r){const e=()=>{c.classList.remove(f)};c.querySelector(".ktc-show-all-items-container").addEventListener("click",e),g.addEventListener("click",e),c.classList.add(f);const t=c.querySelector(`.${d}`);t.scrollHeight<=t.clientHeight&&e();c.querySelector(`.${p}`).addEventListener("focus",(function(){const e=o()(t);e.prop("tabindex",0),e.trigger("focus"),o()(this).prop("disabled",!0)}))}}))},S=(e,t)=>{e.on("change.select2",(function(){const e=document.querySelector(`[${c}='${this.id}']`),t=o()(this).val();e.value=t?`[${t}]`:""})).one("select2:open",(e=>{const{$dropdown:t}=o()(e.target).data("select2");t.find(`input.${p}`).prop("placeholder",I("searchplaceholder"))})).on("select2:open",(e=>{const{$dropdown:t}=o()(e.target).data("select2");setTimeout((()=>{t.find(`.${l}`).addClass(g)}),200)})).on("select2:closing",(t=>{const{$dropdown:n}=o()(t.target).data("select2");n.find(`.${l}`).removeClass(g),O((0,s.C)(e))})),t&&e.on("select2:opening select2:closing",(function(){o()(this).parent().find(`.${d}`).prop("tabindex",0);o()(this).parent().find(`.${p}`).prop("disabled",!0)})).on("select2:unselect",(t=>{var n;t.target.querySelector(`[value='${t.params.data.id}']`).remove();const i=e.select2("data").length,o=e.data("select2").options.options.maximumSelectionLength,r=o-i==1,a=e.select2("isOpen");o>0&&r&&a?(w=!0,e.select2("close")):null===(n=t.params.originalEvent)||void 0===n||n.stopPropagation(),a||O((0,s.C)(e))}))},I=e=>(0,r.cQ)(a.SL.LocalizationService).getLocalizationWithoutPrefix(`kentico.components.objectselector.${e}`),O=e=>{if(w)w=!1;else{const t=document.querySelector(`[${c}='${e.id}']`);t.dispatchEvent(new Event("input")),t.dispatchEvent(new Event("change"))}}},2310:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=n(104),o=n(1496),r=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let a=class{constructor(e){this.defaultPrefix="kentico.builder",this.getLocalizationWithoutPrefix=(e,...t)=>{let n=this.getRawLocalization(e);return void 0===n?e:(t.length>0&&(n=o.yO.format(n,...t)),n)},this.specializedPrefix=e}getLocalization(e,...t){let n=this.getRawLocalization(this.getResourceStringKey(this.specializedPrefix,e));return void 0===n&&(n=this.getRawLocalization(this.getResourceStringKey(this.defaultPrefix,e))),void 0===n?e:(t.length>0&&(n=o.yO.format(n,...t)),n)}getCultureCode(){return window.kentico.localization.culture}getRawLocalization(e){return window.kentico.localization.strings[e]}getResourceStringKey(e,t){return e+"."+t}};a=r([(0,i._)(),s("design:paramtypes",[String])],a)},1880:function(e,t,n){"use strict";n.d(t,{U:function(){return g}});var i=n(104),o=n(3),r=n(6485),s=n(5812),a=n(1496),c=n(3855),l=n(3531),d=n(5723),u=n(3687),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let g=class{registerListener(e,t,n){window.addEventListener("message",this.makeReceiveMessage(e,t,n))}makeReceiveMessage(e,t,n){return async i=>{if(i.data&&i.data.hasOwnProperty("msg")&&i.data.msg.startsWith("Kentico.")){if(!a.Qc.contains(n,i.origin.toLowerCase())){let e=(0,r.cQ)(u.SL.LocalizationService).getLocalization("messaging.forbiddenorigin");return e=a.yO.format(e,i.origin),void c.v.logError(e)}return this.processIncomingMessage(e,t)(i)}}}processIncomingMessage(e,t){return async n=>{if(n.data.msg===u.lA.SAVE_CONFIGURATION)try{n.data.contentModified&&await(0,o.LZ)(e(),n.data.guid),(0,l.postMessage)(u.lA.CONFIGURATION_STORED,JSON.stringify(e().displayedWidgetVariants),n.origin)}catch(e){c.v.logException(e)}if(n.data.msg===u.lA.LOAD_DISPLAYED_WIDGET_VARIANTS){const e=JSON.parse(n.data.data)||{};t((0,d.i)(e))}n.data.msg===u.lA.SAVE_TEMP_CONFIGURATION&&(n.data.contentModified&&await(0,o.LZ)(e(),n.data.guid),(0,l.postMessage)(u.lA.TEMP_CONFIGURATION_STORED,null,n.origin)),n.data.msg===u.lA.CONFIRM_RESPONSE&&(0,s.L)(n.data.result)}}};g=p([(0,i._)()],g)},9149:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var i=n(104),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let r=class{getWidgetElements(e){return e.map((({typeIdentifier:e,iconClass:t,name:n,description:i})=>({description:i,iconClass:t,name:n,key:e})))}getSectionElements(e){return this.getWidgetElements(e)}};r=o([(0,i._)()],r)},7307:function(e,t,n){"use strict";n.d(t,{j:function(){return s},q:function(){return r}});var i=n(9682),o=n(1496);const r=async(e,t)=>(await i.LV.post(e,JSON.stringify({properties:t}),{headers:{"Content-Type":"application/json"}})).data,s=async(e,t)=>{const n=await i.LV.post(e,t);return o.Qc.contains(n.headers["content-type"],"text/html")?Promise.resolve({data:n.data,status:"invalid"}):o.Qc.contains(n.headers["content-type"],"application/json")?Promise.resolve({data:n.data,status:"valid"}):Promise.resolve({data:null,status:"invalid"})}},7381:function(e,t,n){"use strict";n.d(t,{L:function(){return T}});var i=n(104),o=n(3),r=n(1496),s=n(3856),a=n(8542),c=n(3812),l=n(9116),d=n(1843),u=n(3531),p=n(3687);const g=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{editableAreas:_(e.editableAreas,"sections",n),sections:(0,c.A)(e.sections,n)}),f(e,t)},f=(e,t)=>{const n=(0,s.A)(t,(e=>e.zones)),i=Object.values((0,a.A)(e.zones,n));return h(e,i)},h=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{sections:_(e.sections,"zones",n),zones:(0,c.A)(e.zones,n)}),m(e,t)},m=(e,t)=>{const n=(0,s.A)(t,(e=>e.widgets)),i=Object.values((0,a.A)(e.widgets,n));return y(e,i)},y=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{zones:_(e.zones,"widgets",n),widgets:(0,c.A)(e.widgets,n)}),b(e,t)},b=(e,t)=>{const n=(0,s.A)(t,(e=>e.variants)),i=Object.values((0,a.A)(e.widgetVariants,n));return v(e,i)},v=(e,t)=>{const n=t.map((e=>e.identifier));return Object.assign(Object.assign({},e),{widgets:_(e.widgets,"variants",n),widgetVariants:(0,c.A)(e.widgetVariants,n)})},k=(e,t)=>{const n=Object.values(e.widgets).filter((e=>r.Qc.contains(t,e.conditionType))),i=(0,s.A)(n,(e=>e.variants.slice(1))),o=Object.values((0,a.A)(e.widgetVariants,i));return e=Object.assign(Object.assign({},e),{widgets:(0,l.A)(e.widgets,(e=>r.Qc.contains(t,e.conditionType)?(0,c.A)(e,"conditionType"):e))}),v(e,o)},_=(e,t,n)=>(0,l.A)(e,(e=>Object.assign(Object.assign({},e),{[t]:e[t].filter((e=>!r.Qc.contains(n,e)))})));var w=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let T=class{async getConfiguration(e){const t=d.PT(),n=await o.Gu();let i=d.lB(Object.keys(t.editableAreas),n);const c=r.UI.isEmpty(i.editableAreas);i=d.Y4(t.editableAreas,i);let l=Object.assign(Object.assign({config:Object.assign({},e),editableAreasConfiguration:d.B9()},i),{markups:{sections:{},variants:{}},metadata:await d.i0(),widgetZonesConfiguration:{}});return l=(e=>{const t=Object.values(e.sections).filter((t=>!e.metadata.sections[t.type]));return 0!==t.length?((0,d.FF)("section.missingmetadata",r.Qc.getUniqueValues(t.map((e=>e.type)))),(0,u.postMessage)(p.lA.CONFIGURATION_CHANGED,null,"*"),g(e,t)):e})(l),l=(e=>{const t=Object.values(e.widgets).filter((t=>!e.metadata.widgets[t.type]));return 0!==t.length?((0,d.FF)("widget.missingmetadata",r.Qc.getUniqueValues(t.map((e=>e.type)))),(0,u.postMessage)(p.lA.CONFIGURATION_CHANGED,null,"*"),y(e,t)):e})(l),l=(e=>{const t=r.Qc.getUniqueValues(Object.values(e.widgets).filter((t=>t.conditionType&&!e.metadata.personalizationConditionTypes[t.conditionType])).map((e=>e.conditionType)));return 0!==t.length?((0,d.FF)("conditiontype.missingmetadata",t),(0,u.postMessage)(p.lA.CONFIGURATION_CHANGED,null,"*"),k(e,t)):e})(l),await d.vi(l),await d.rr(l),await d.Jq(l),d._d(l),l=(e=>{const t=new Set,n=(0,s.A)(Object.values(e.sections),(n=>{const i=[];for(let o=(0,d.Hu)(e.markups.sections[n.identifier].markup);o<n.zones.length;o++){const r=e.sections[n.identifier].zones[o];0!==e.zones[r].widgets.length&&t.add(n.type),i.push(r)}return i}));0!==t.size&&((0,u.postMessage)(p.lA.CONFIGURATION_CHANGED,null,"*"),(0,d.FF)("section.missingNonemptyZone",[...t]));const i=Object.values((0,a.A)(e.zones,n));return h(e,i)})(l),d.zG(l),d.JS(l),d.OZ(l,!c),l=d.Kk(l),l=d.vy(l),l}};T=w([(0,i._)()],T)},1843:function(e,t,n){"use strict";n.d(t,{B9:function(){return P},FF:function(){return z},Hu:function(){return j},JS:function(){return E},Jq:function(){return k},Kk:function(){return S},N3:function(){return D},OL:function(){return L},OZ:function(){return w},PT:function(){return M},Y4:function(){return b},_d:function(){return T},hR:function(){return C},i0:function(){return x},lB:function(){return y},rr:function(){return A},vi:function(){return O},vy:function(){return v},zG:function(){return _}});var i=n(8542),o=n(4098),r=n(9116),s=n(3829),a=n(3),c=n(6485),l=n(1496),d=n(3855),u=n(3531),p=n(3687),g=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const f="data-kentico-editable-area-id",h=/data-kentico-allowed-widgets=\"(?<allowedWidgets>\[[^\][]*])/,m=/<widget-zone (zone-name="(?<zoneName>[^"]+)")?.+?<\/widget-zone>/g,y=(e,t)=>{const n=(0,i.A)(t.editableAreas,e),r=(0,o.A)(Object.values(n).map((e=>e.sections))),s=(0,i.A)(t.sections,r),a=(0,o.A)(Object.values(s).map((e=>e.zones))),c=(0,i.A)(t.zones,a),d=(0,o.A)(Object.values(c).map((e=>e.widgets))),g=(0,i.A)(t.widgets,d),f=(0,o.A)(Object.values(g).map((e=>e.variants))),h=(0,i.A)(t.widgetVariants,f),m={editableAreas:n,pageTemplate:t.pageTemplate,sections:s,zones:c,widgets:g,widgetVariants:h};if(Object.keys(t.editableAreas).length>Object.keys(m.editableAreas).length){const n=Object.values(t.editableAreas).filter((t=>!l.Qc.contains(e,t.identifier))).map((e=>e.identifier));z("areas.excessAreas",n),(0,u.postMessage)(p.lA.CONFIGURATION_CHANGED,null,"*")}return m},b=(e,t)=>Object.assign(Object.assign({},t),{editableAreas:Object.assign(Object.assign({},e),t.editableAreas)}),v=async e=>{if(e.pageTemplate){const t=e.metadata.pageTemplates[e.pageTemplate.identifier];if(null===e.pageTemplate.properties&&t.hasProperties){const n=await a.yx(t.defaultPropertiesUrl);return Object.assign(Object.assign({},e),{pageTemplate:Object.assign(Object.assign({},e.pageTemplate),{properties:n})})}}return e},k=async e=>{const t=Object.values(e.editableAreas).filter((e=>0===e.sections.length)),n=await(async(e,t)=>{const n=[];return t.forEach((t=>{const i=e.editableAreasConfiguration[t.identifier].defaultSection,o=e.metadata.sections[i];!0===o.hasProperties?n.push(a.yx(o.defaultPropertiesUrl)):n.push(Promise.resolve(null))})),Promise.all(n)})(e,t),i=await(async(e,t,n)=>{const i=[];return t.forEach(((t,o)=>{const r=e.editableAreasConfiguration[t.identifier].defaultSection,s=e.metadata.sections[r];i.push(a.U6(s.markupUrl,n[o]))})),Promise.all(i)})(e,t,n);t.forEach(((t,o)=>{const r=(0,s.A)(),a=e.editableAreasConfiguration[t.identifier].defaultSection,c=C(i[o]),l=j(c.markup);t.sections.push(r),e.sections[r]={identifier:r,properties:n[o],type:a,zones:[]},e.markups.sections[r]=c;for(let t=0;t<l;t++)I(e,r)}))},_=e=>{Object.values(e.sections).forEach((t=>{const n=j(e.markups.sections[t.identifier].markup);for(let i=t.zones.length;i<n;++i)I(e,t.identifier)}))},w=(e,t)=>{const n=e.markups.sections;let o=!1;Object.keys(n).forEach((t=>{const r=D(n[t].markup);let s=e.sections[t].zones;Object.values((0,i.A)(e.zones,s)).forEach((({identifier:e,name:t})=>{if(t){const n=r.findIndex((e=>e.name===t)),i=s.findIndex((t=>t===e));n>-1&&n!==i&&(o=!0,s=l.Qc.swap(s,i,n))}})),e.sections[t]=Object.assign(Object.assign({},e.sections[t]),{zones:s}),r.forEach((({name:n},i)=>{const r=e.sections[t].zones[i],s=e.zones[r];if(s.name!==n){if(n)e.zones[r]=Object.assign(Object.assign({},s),{name:n});else{const{name:t}=s,n=g(s,["name"]);e.zones[r]=Object.assign({},n)}o=!0}}))})),o&&t&&(z("widgetzone.namechanged",[]),(0,u.postMessage)(p.lA.CONFIGURATION_CHANGED,null,"*"))},T=e=>{const t=l.Qc.getUniqueValues(Object.values(e.sections).filter((t=>0===j(e.markups.sections[t.identifier].markup))).map((e=>e.type)));0!==t.length&&z("section.withoutZones",t)},S=e=>Object.assign(Object.assign({},e),{displayedWidgetVariants:(0,r.A)(e.widgets,(e=>e.variants[0]))}),I=(e,t)=>{const n=(0,s.A)();e.zones[n]={identifier:n,widgets:[]},e.sections[t].zones.push(n)},O=async e=>{const t=Object.values(e.widgets),n=[];t.forEach((t=>{const i=e.metadata.widgets[t.type];t.variants.forEach((t=>{n.push(a.U6(i.markupUrl,e.widgetVariants[t].properties))}))}));const i=await Promise.all(n);let o=0;t.forEach((t=>{t.variants.forEach((t=>{e.markups.variants[t]={markup:i[o],isDirty:!1},++o}))}))},A=async e=>{const t=Object.values(e.sections),n=[];t.forEach((t=>{n.push(a.U6(e.metadata.sections[t.type].markupUrl,t.properties))}));const i=await Promise.all(n);t.forEach(((t,n)=>{e.markups.sections[t.identifier]=C(i[n])}))},C=e=>{let t=0;const n=new RegExp('<div [^>]*?data-kentico-widget-zone="([^"]*)"></div>',"g"),i=(e,t,n)=>`<widget-zone${t?` zone-name="${t}" `:" "}:section-identifier="sectionIdentifier" :area-identifier="areaIdentifier" :zone-index="${e}"${n?" "+n:""}></widget-zone>`;return{markup:e=e.replace(n,((e,n)=>{const o=e.match(h);return null!==o?i(t++,n,o[0]):i(t++,n)}))}},E=e=>{const t=e.markups.sections;Object.keys(t).forEach((n=>{const{markup:i,restrictions:o}=L(t[n].markup,e.sections[n].zones);e.markups.sections[n]={markup:i},Object.keys(o).forEach((t=>{e.widgetZonesConfiguration[t]={widgetRestrictions:o[t].widgetRestrictions}}))}))},L=(e,t)=>{const n={};let i=0;return{markup:e.replace(m,(e=>{let o=null;const r=e.replace(h,((e,t)=>{const n=JSON.parse(t.replace(/&quot;/g,'"'));return o=n,""}));return n[t[i]]={widgetRestrictions:o},i++,r})),restrictions:n}},j=e=>{const t=e.match(m);return null!==t?t.length:0},D=e=>[...e.matchAll(m)].map((e=>{let t={identifier:(0,s.A)(),widgets:[]};const n=e.groups.zoneName;return n&&(t=Object.assign(Object.assign({},t),{name:n})),t})),P=()=>{const e={},t=document.querySelectorAll(`[${f}]`);return Array.prototype.forEach.call(t,(t=>{const n={defaultSection:t.dataset.kenticoDefaultSection,widgetRestrictions:t.dataset.kenticoAllowedWidgets?JSON.parse(t.dataset.kenticoAllowedWidgets):null,sectionRestrictions:t.dataset.kenticoAllowedSections?JSON.parse(t.dataset.kenticoAllowedSections):null};e[t.dataset.kenticoEditableAreaId]=n})),e},M=()=>{const e=document.querySelectorAll(`[${f}]`),t=Array.prototype.map.call(e,(e=>e.dataset.kenticoEditableAreaId)),n={editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}};return t.forEach((e=>{n.editableAreas[e]={identifier:e,sections:[]}})),n},x=async()=>a.tt(),z=(e,t)=>{const n=(0,c.cQ)(p.SL.LocalizationService).getLocalization(e,t.join(", "));d.v.logWarning(n)}},3531:function(e,t,n){"use strict";n.r(t),n.d(t,{postMessage:function(){return i}});const i=(e,t,n)=>{window.parent.postMessage({msg:e,data:t},n)}},9060:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var i=n(3855),o=n(3531),r=n(6485),s=n(3687);const a=()=>({logger:i.v,messaging:o,localizationService:(0,r.cQ)(s.SL.LocalizationService)})},2981:function(e,t,n){"use strict";n.d(t,{Bn:function(){return f.Bn},QD:function(){return y},pY:function(){return m.pY},k7:function(){return f.k7},CO:function(){return k.CO},fs:function(){return g.fs},dn:function(){return l},Ov:function(){return u},je:function(){return h.je},aC:function(){return h.aC},z6:function(){return o.z6},aK:function(){return h.aK},_j:function(){return o._j},ff:function(){return a},Ir:function(){return c},Rt:function(){return d},pK:function(){return k.pK},hB:function(){return f.hB},Gm:function(){return v},oq:function(){return k.oq},PB:function(){return g.PB},Uf:function(){return f.Uf},hW:function(){return b},g2:function(){return m.g2},ib:function(){return i.i},vp:function(){return k.vp},Xj:function(){return h.Xj},HY:function(){return i._},R6:function(){return g.R6},iy:function(){return g.iy},Vu:function(){return g.Vu},Tg:function(){return o.Tg},ko:function(){return s},Em:function(){return o.Em},Ro:function(){return h.Ro},CT:function(){return h.CT},dO:function(){return k.dO},$X:function(){return m.$X},LH:function(){return m.LH},WJ:function(){return p.W}});var i=n(5723),o=n(3696),r=n(7475);const s=(0,r.createAction)("highlightedSection/SHOW_SECTION_HEADER",((e,t)=>({sectionIdentifier:e,headerPosition:t})))(),a=(0,r.createAction)("highlightedSection/HIDE_SECTION_HEADER")(),c=(0,r.createAction)("highlightedSection/HIGHLIGHT_SECTION_BORDER",((e=null)=>({sectionIdentifier:e})))(),l=(0,r.createAction)("highlightedSection/DEHIGHLIGHT_SECTION_BORDER")(),d=(0,r.createAction)("highlightedWidget/HIGHLIGHT_WIDGET",(e=>({widgetIdentifier:e})))(),u=(0,r.createAction)("highlightedWidget/DEHIGHLIGHT_WIDGET")();var p=n(1977),g=n(9813),f=n(4670),h=n(8053),m=n(7217);const y=(0,r.createAction)("widgets/ADD",((e,t,n,i,o)=>({widget:e,zoneIdentifier:t,position:n,variant:i,markup:o})))(),b=(0,r.createAction)("widgets/REMOVE",((e,t)=>({widget:e,zoneIdentifier:t})))(),v=(0,r.createAction)("widgets/MOVE",((e,t,n,i)=>({widgetIdentifier:e,originalZoneIdentifier:t,targetZoneIdentifier:n,position:i})))();var k=n(8885)},5723:function(e,t,n){"use strict";n.d(t,{_:function(){return o},i:function(){return r}});var i=n(7475);const o=(0,i.createAction)("displayedWidgetVariants/SELECT",((e,t)=>({variantIdentifier:e,widgetIdentifier:t})))(),r=(0,i.createAction)("displayedWidgetVariants/RESTORE",(e=>({savedWidgetVariants:e})))()},1376:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var i=n(3812),o=n(7475),r=n(2981);const s={},a=(e=s,t)=>{switch(t.type){case(0,o.getType)(r.QD):return c(e,t.payload.widget.identifier,t.payload.variant.identifier);case(0,o.getType)(r.hW):return(0,i.A)(e,t.payload.widget.identifier);case(0,o.getType)(r.pY):return c(e,t.payload.widgetIdentifier,t.payload.variant.identifier);case(0,o.getType)(r.HY):return c(e,t.payload.widgetIdentifier,t.payload.variantIdentifier);case(0,o.getType)(r.k7):case(0,o.getType)(r.Uf):return(0,i.A)(e,t.payload.widgetsToRemove.map((e=>e.identifier)));case(0,o.getType)(r.ib):return Object.assign(Object.assign({},e),t.payload.savedWidgetVariants);default:return e}},c=(e,t,n)=>Object.assign(Object.assign({},e),{[t]:n})},3696:function(e,t,n){"use strict";n.d(t,{Em:function(){return o},Tg:function(){return s},_j:function(){return a},z6:function(){return r}});var i=n(7475);const o=(0,i.createAction)("dragAndDrop/START_DRAGGING",((e,t,n,i,o,r,s)=>({entity:e,typeIdentifier:t,itemIdentifier:n,sourceContainerIdentifier:i,originalPosition:o,bannedAreas:r,bannedZones:s})))(),r=(0,i.createAction)("dragAndDrop/END_DRAGGING")(),s=(0,i.createAction)("dragAndDrop/SHOW_DROP_MARKER",((e,t)=>({containerIdentifier:e,dropMarkerPosition:t})))(),a=(0,i.createAction)("dragAndDrop/HIDE_DROP_MARKER")()},5964:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var i=n(7475),o=n(2981),r=n(9069);const s={sectionIdentifier:null,headerPosition:null,highlightBorder:!1,freezeHighlight:!1},a=(e=s,t)=>{switch(t.type){case(0,i.getType)(o.ko):return Object.assign(Object.assign({},s),{sectionIdentifier:t.payload.sectionIdentifier,headerPosition:t.payload.headerPosition});case(0,i.getType)(o.ff):case(0,i.getType)(o.k7):case(0,i.getType)(o.Em):return Object.assign({},s);case(0,i.getType)(o.Ir):return Object.assign(Object.assign({},e),{sectionIdentifier:t.payload.sectionIdentifier||e.sectionIdentifier,highlightBorder:!0});case(0,i.getType)(o.dn):return Object.assign(Object.assign({},e),{highlightBorder:!1});case(0,i.getType)(o.PB):return t.payload.popupType===r.GI.ChangeSection?e:Object.assign({},s);default:return e}}},5612:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var i=n(1829);const o=e=>{const t=e||!1,n=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;return t&&n?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.Zz}},1977:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var i=n(7475);const o=(0,i.createAction)("markups/UPDATE_WIDGET_VARIANT_MARKUPS",(e=>({markups:e})))()},3506:function(e,t,n){"use strict";n.d(t,{S:function(){return p}});var i=n(3812),o=n(3856),r=n(1829),s=n(7475),a=n(2981),c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const l={},d=(e,t)=>{switch(t.type){case(0,s.getType)(a.QD):case(0,s.getType)(a.pY):return{markup:t.payload.markup,isDirty:!1};case(0,s.getType)(a.LH):return Object.assign(Object.assign({},e),{markup:t.payload.markup?t.payload.markup:e.markup,isDirty:!t.payload.markup});default:return e}},u=e=>Object.keys(e).reduce(((t,n)=>(t[n]={isDirty:!1,markup:e[n]},t)),{}),p=(0,r.HY)({sections:(e=l,t)=>{switch(t.type){case(0,s.getType)(a.Bn):return Object.assign(Object.assign({},e),{[t.payload.section.identifier]:t.payload.markup});case(0,s.getType)(a.k7):return Object.assign(Object.assign({},e),{[t.payload.oldSection.identifier]:t.payload.newMarkup});case(0,s.getType)(a.Uf):return(0,i.A)(e,t.payload.section.identifier);default:return e}},variants:(e=l,t)=>{switch(t.type){case(0,s.getType)(a.QD):case(0,s.getType)(a.pY):return Object.assign(Object.assign({},e),{[t.payload.variant.identifier]:d(void 0,t)});case(0,s.getType)(a.g2):const n=e,r=t.payload.variantIdentifier;n[r];return c(n,["symbol"==typeof r?r:r+""]);case(0,s.getType)(a.k7):case(0,s.getType)(a.Uf):return(0,i.A)(e,(0,o.A)(t.payload.widgetsToRemove,(e=>e.variants)));case(0,s.getType)(a.hW):return(0,i.A)(e,t.payload.widget.variants);case(0,s.getType)(a.LH):return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:d(e[t.payload.variantIdentifier],t)});case(0,s.getType)(a.WJ):return Object.assign(Object.assign({},e),u(t.payload.markups));default:return e}}})},2079:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var i=n(3531),o=n(3687);const r=e=>t=>n=>{const{editableAreas:r,sections:s,pageTemplate:a,widgets:c,zones:l,widgetVariants:d}=e.getState(),u=t(n),{editableAreas:p,sections:g,pageTemplate:f,widgets:h,zones:m,widgetVariants:y}=e.getState();return a===f&&r===p&&s===g&&l===m&&c===h&&d===y||(0,i.postMessage)(o.lA.CONFIGURATION_CHANGED,null,"*"),u}},8776:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var i=n(3855);const o=e=>e=>t=>{try{return e(t)}catch(e){i.v.logException(e)}}},8885:function(e,t,n){"use strict";n.d(t,{CO:function(){return s},dO:function(){return a},oq:function(){return o},pK:function(){return c},vp:function(){return r}});var i=n(7475);const o=(0,i.createAction)("modalDialogs/OPEN",((e,t,n,i,o,r,s,a,c,l,d,u,p)=>({identifier:e,type:t,title:n,markupUrl:i,model:o,tabs:r,activeTabIndex:s,theme:a,width:c,maximized:l,showFooter:d,applyButtonText:u,cancelButtonText:p})))(),r=(0,i.createAction)("modalDialogs/SELECT_TAB",((e,t)=>({dialogIndex:e,tabIndex:t})))(),s=(0,i.createAction)("modalDialogs/CLOSE",(e=>({dialogIndex:e})))(),a=(0,i.createAction)("modalDialogs/UPDATE_MARKUP",((e,t)=>({dialogIndex:e,markup:t})))(),c=(0,i.createAction)("modalDialogs/INVALIDATE",(e=>({dialogIndex:e})))()},6520:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var i=n(3687),o=n(8885);class r{constructor(e){this.dialogDataCollector=e,this.openModalDialog=e=>(t,n,{localizationService:r,messaging:s})=>{const a=n(),{componentIdentifier:c,dialogType:l,showFooter:d,applyButtonText:u,cancelButtonText:p,dialogWidth:g,maximized:f,dialogTabs:h=[],activeTabIndex:m=0}=e,y=this.dialogDataCollector(e,a,r),b=a.modalDialogs.theme||y.theme||i.Sx.Widget;s.postMessage(i.lA.OPEN_MODAL_DIALOG,null,"*"),t(o.oq(c,l,y.title,y.markupUrl,y.model,h,m,b,g,f,d,u,p))}}}},691:function(e,t,n){"use strict";var i;n.d(t,{W:function(){return i}}),function(e){e.WidgetProperties="WidgetProperties",e.SectionProperties="SectionProperties",e.TemplateProperties="TemplateProperties",e.Custom="Custom"}(i||(i={}))},9813:function(e,t,n){"use strict";n.d(t,{PB:function(){return r},R6:function(){return c},Vu:function(){return l},fs:function(){return s},iy:function(){return a}});var i=n(7475),o=n(9069);const r=(0,i.createAction)("popup/OPEN",((e,t,n,i,r=null,s=null,a=null,c=o.Ce.Single,l=0)=>({componentIdentifier:e,horizontalPosition:t,verticalPosition:n,popupType:i,listingOffset:r,areaIdentifier:s,zoneIdentifier:a,columnType:c,index:l})))(),s=(0,i.createAction)("popup/CLOSE")(),a=(0,i.createAction)("popup/SET_POSITION",((e,t,n)=>({horizontalPosition:e,verticalPosition:t,listingOffset:n})))(),c=(0,i.createAction)("popup/SET_FILTER",(e=>({filterPhrase:e})))(),l=(0,i.createAction)("popup/SET_RECENT_WIDGETS",(e=>({recentWidgets:e})))()},88:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var i=n(9069);class o{constructor(e,t){this.addWidget=e,this.addSection=t,this.selectItem=e=>async(t,n)=>{const{popup:o}=n(),{componentIdentifier:r,areaIdentifier:s,zoneIdentifier:a,index:c}=o,l=r===a?c:c+1;switch(o.popupType){case i.GI.AddWidget:await t(this.addWidget(e,a,l));break;case i.GI.AddSection:await t(this.addSection(e,s,l));break;default:return}}}}},8021:function(e,t,n){"use strict";n.d(t,{X:function(){return I}});var i=n(1376),o=n(7475),r=n(2981);const s={entity:null,typeIdentifier:null,itemIdentifier:null,originalPosition:null,sourceContainerIdentifier:null,targetContainerIdentifier:null,dropMarkerPosition:null,bannedAreas:[],bannedZones:[]};var a=n(1496);const c={};var l=n(5964);var d=n(3506),u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const p={dialogs:[],theme:null},g={componentIdentifier:null,horizontalPosition:null,verticalPosition:null,popupType:null,listingOffset:null,areaIdentifier:null,zoneIdentifier:null,columnType:null,index:null,filterPhrase:"",recentWidgets:null};var f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const h={},m=(e,t)=>{const n=e,i=t;n[i];return f(n,["symbol"==typeof i?i:i+""])};var y=n(2943),b=n(9069);const v={identifier:null,freezeSelection:!1,preventClickAway:!1};var k=n(4090),_=n(2530),w=n(6160),T=n(3812);const S={},I={config:(e=null)=>e,displayedWidgetVariants:i._,dragAndDrop:(e=s,t)=>{switch(t.type){case(0,o.getType)(r.Em):return Object.assign(Object.assign({},e),{entity:t.payload.entity,typeIdentifier:t.payload.typeIdentifier,itemIdentifier:t.payload.itemIdentifier,originalPosition:t.payload.originalPosition,sourceContainerIdentifier:t.payload.sourceContainerIdentifier,bannedAreas:t.payload.bannedAreas,bannedZones:t.payload.bannedZones});case(0,o.getType)(r.z6):return Object.assign({},s);case(0,o.getType)(r.Tg):return Object.assign(Object.assign({},e),{targetContainerIdentifier:t.payload.containerIdentifier,dropMarkerPosition:t.payload.dropMarkerPosition});case(0,o.getType)(r._j):return Object.assign(Object.assign({},e),{targetContainerIdentifier:null,dropMarkerPosition:null});default:return e}},editableAreas:(e=c,t)=>{switch(t.type){case(0,o.getType)(r.Bn):return Object.assign(Object.assign({},e),{[t.payload.areaIdentifier]:Object.assign(Object.assign({},e[t.payload.areaIdentifier]),{sections:a.Qc.insertItemIntoArray(e[t.payload.areaIdentifier].sections,t.payload.section.identifier,t.payload.position)})});case(0,o.getType)(r.Uf):return Object.assign(Object.assign({},e),{[t.payload.areaIdentifier]:Object.assign(Object.assign({},e[t.payload.areaIdentifier]),{sections:e[t.payload.areaIdentifier].sections.filter((e=>e!==t.payload.section.identifier))})});case(0,o.getType)(r.hB):const{sectionIdentifier:n,originalAreaIdentifier:i,targetAreaIdentifier:s,position:c}=t.payload;let l;const d=Object.assign({},e);return i===s?l=a.Qc.moveItemBetweenArrays(e[i].sections,n,c):(l=a.Qc.moveItemBetweenArrays(e[i].sections,n,c,e[s].sections),d[s]=Object.assign(Object.assign({},e[s]),{sections:l.destinationArray})),d[i]=Object.assign(Object.assign({},e[i]),{sections:l.sourceArray}),d;default:return e}},highlightedSection:l.j,highlightedWidget:(e=null,t)=>{switch(t.type){case(0,o.getType)(r.Rt):return t.payload.widgetIdentifier;case(0,o.getType)(r.Ov):case(0,o.getType)(r.PB):case(0,o.getType)(r.Xj):case(0,o.getType)(r.Em):case(0,o.getType)(r.z6):case(0,o.getType)(r.QD):return null;default:return e}},markups:d.S,modalDialogs:(e=p,t)=>{switch(t.type){case(0,o.getType)(r.oq):{const n=t.payload,{theme:i}=n,o=u(n,["theme"]),r=Object.assign(Object.assign({},o),{index:e.dialogs.length,markup:null,isValid:!0});return{dialogs:a.Qc.insertItemIntoArray(e.dialogs,r,e.dialogs.length),theme:i}}case(0,o.getType)(r.vp):{const{dialogIndex:n,tabIndex:i}=t.payload,o=e.dialogs[n],r=o.tabs[i];return Object.assign(Object.assign({},e),{dialogs:a.Qc.replaceItem(e.dialogs,Object.assign(Object.assign({},o),{activeTabIndex:i,markupUrl:r.url}),n)})}case(0,o.getType)(r.dO):{const{dialogIndex:n,markup:i}=t.payload;return Object.assign(Object.assign({},e),{dialogs:a.Qc.replaceItem(e.dialogs,Object.assign(Object.assign({},e.dialogs[n]),{markup:i}),n)})}case(0,o.getType)(r.pK):{const{dialogIndex:n}=t.payload;return Object.assign(Object.assign({},e),{dialogs:a.Qc.replaceItem(e.dialogs,Object.assign(Object.assign({},e.dialogs[n]),{isValid:!1}),n)})}case(0,o.getType)(r.CO):return 1===e.dialogs.length?Object.assign({},p):Object.assign(Object.assign({},e),{dialogs:a.Qc.removeItem(e.dialogs,t.payload.dialogIndex)});default:return e}},popup:(e=g,t)=>{switch(t.type){case(0,o.getType)(r.PB):return Object.assign(Object.assign(Object.assign({},e),t.payload),{filterPhrase:""});case(0,o.getType)(r.iy):return Object.assign(Object.assign({},e),{horizontalPosition:t.payload.horizontalPosition,verticalPosition:t.payload.verticalPosition,listingOffset:t.payload.listingOffset});case(0,o.getType)(r.R6):return Object.assign(Object.assign({},e),{filterPhrase:t.payload.filterPhrase.trim()});case(0,o.getType)(r.Vu):return Object.assign(Object.assign({},e),{recentWidgets:t.payload.recentWidgets});case(0,o.getType)(r.Bn):case(0,o.getType)(r.Em):case(0,o.getType)(r.fs):case(0,o.getType)(r.oq):case(0,o.getType)(r.k7):case(0,o.getType)(r.QD):case(0,o.getType)(r.HY):case(0,o.getType)(r.pY):case(0,o.getType)(r.LH):case(0,o.getType)(r.$X):case(0,o.getType)(r.hW):return Object.assign({},g);default:return e}},sections:(e=h,t)=>{switch(t.type){case(0,o.getType)(r.Bn):return Object.assign(Object.assign({},e),{[t.payload.section.identifier]:t.payload.section});case(0,o.getType)(r.Uf):return m(e,t.payload.section.identifier);case(0,o.getType)(r.k7):return Object.assign(Object.assign({},e),{[t.payload.oldSection.identifier]:Object.assign(Object.assign({},t.payload.newSection),{identifier:t.payload.oldSection.identifier})});default:return e}},widgets:_.Q,widgetSelection:(e=v,t)=>{switch(t.type){case(0,o.getType)(r.Xj):return Object.assign(Object.assign({},e),{identifier:t.payload.widgetIdentifier});case(0,o.getType)(r.Em):return t.payload.entity!==y.c.Widget?Object.assign({},v):Object.assign(Object.assign({},e),{identifier:t.payload.itemIdentifier});case(0,o.getType)(r.CT):case(0,o.getType)(r.hW):return Object.assign({},v);case(0,o.getType)(r.PB):return t.payload.popupType===b.GI.Personalization?e:Object.assign({},v);case(0,o.getType)(r.QD):return Object.assign(Object.assign({},e),{identifier:t.payload.widget.identifier});case(0,o.getType)(r.aK):return Object.assign(Object.assign({},e),{freezeSelection:!0});case(0,o.getType)(r.Ro):return Object.assign(Object.assign({},e),{freezeSelection:!1});case(0,o.getType)(r.je):return Object.assign(Object.assign({},e),{preventClickAway:!0});case(0,o.getType)(r.aC):return Object.assign(Object.assign({},e),{preventClickAway:!1});default:return e}},widgetVariants:k.H,zones:w.Q,pageTemplate:(e={identifier:""})=>e,editableAreasConfiguration:(e={})=>e,widgetZonesConfiguration:(e=S,t)=>{switch(t.type){case(0,o.getType)(r.Bn):return Object.assign(Object.assign({},e),t.payload.widgetRestrictions);case(0,o.getType)(r.Uf):return(0,T.A)(e,t.payload.section.zones);case(0,o.getType)(r.k7):return Object.assign(Object.assign({},(0,T.A)(e,t.payload.oldSection.zones)),t.payload.widgetRestrictions);default:return e}},metadata:(e={personalizationConditionTypes:{},sections:{},widgets:{},pageTemplates:{}})=>e}},4670:function(e,t,n){"use strict";n.d(t,{Bn:function(){return o},Uf:function(){return r},hB:function(){return s},k7:function(){return a}});var i=n(7475);const o=(0,i.createAction)("sections/ADD",((e,t,n,i,o,r)=>({section:e,areaIdentifier:t,position:n,markup:i,widgetZones:o,widgetRestrictions:r})))(),r=(0,i.createAction)("sections/REMOVE",((e,t,n)=>({section:e,areaIdentifier:t,widgetsToRemove:n})))(),s=(0,i.createAction)("sections/MOVE",((e,t,n,i)=>({sectionIdentifier:e,originalAreaIdentifier:t,targetAreaIdentifier:n,position:i})))(),a=(0,i.createAction)("sections/CHANGE",((e,t,n,i,o,r=[])=>({oldSection:e,newSection:t,newMarkup:n,widgetZones:i,widgetRestrictions:o,widgetsToRemove:r})))()},7217:function(e,t,n){"use strict";n.d(t,{$X:function(){return a},LH:function(){return s},g2:function(){return r},pY:function(){return o}});var i=n(7475);const o=(0,i.createAction)("widgetVariants/ADD",((e,t,n,i)=>({variant:e,widgetIdentifier:t,markup:n,conditionType:i})))(),r=(0,i.createAction)("widgetVariants/REMOVE",((e,t)=>({widgetIdentifier:e,variantIdentifier:t})))(),s=(0,i.createAction)("widgetVariants/UPDATE",((e,t,n)=>({variantIdentifier:e,properties:t,markup:n})))(),a=(0,i.createAction)("widgetVariants/UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS",((e,t,n)=>({variantIdentifier:e,name:t,conditionTypeParameters:n})))()},4090:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var i=n(3812),o=n(3856),r=n(7475),s=n(2981),a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const c={},l=(e=c,t)=>{switch(t.type){case(0,r.getType)(s.QD):case(0,r.getType)(s.pY):return Object.assign(Object.assign({},e),{[t.payload.variant.identifier]:t.payload.variant});case(0,r.getType)(s.g2):const n=e,c=t.payload.variantIdentifier;n[c];return a(n,["symbol"==typeof c?c:c+""]);case(0,r.getType)(s.hW):return(0,i.A)(e,t.payload.widget.variants);case(0,r.getType)(s.LH):{const n=e[t.payload.variantIdentifier];return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:Object.assign(Object.assign({},n),{properties:t.payload.properties})})}case(0,r.getType)(s.$X):{const n=e[t.payload.variantIdentifier];return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:Object.assign(Object.assign({},n),{name:t.payload.name,conditionTypeParameters:t.payload.conditionTypeParameters})})}case(0,r.getType)(s.k7):case(0,r.getType)(s.Uf):const l=(0,o.A)(t.payload.widgetsToRemove,(e=>e.variants));return(0,i.A)(e,l);default:return e}}},2530:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var i=n(3812),o=n(7475),r=n(2981),s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const a={},c=(e=a,t)=>{switch(t.type){case(0,o.getType)(r.QD):return Object.assign(Object.assign({},e),{[t.payload.widget.identifier]:t.payload.widget});case(0,o.getType)(r.hW):const n=e,a=t.payload.widget.identifier;n[a];return s(n,["symbol"==typeof a?a:a+""]);case(0,o.getType)(r.k7):case(0,o.getType)(r.Uf):return(0,i.A)(e,t.payload.widgetsToRemove.map((e=>e.identifier)));case(0,o.getType)(r.g2):const c=e[t.payload.widgetIdentifier],l=c.variants.filter((e=>e!==t.payload.variantIdentifier));return Object.assign(Object.assign({},e),{[c.identifier]:{identifier:c.identifier,type:c.type,conditionType:l.length>1?c.conditionType:void 0,variants:l}});default:return e}}},9177:function(e,t,n){"use strict";n.d(t,{Gm:function(){return c},QD:function(){return s},Uq:function(){return d},hW:function(){return a},k_:function(){return l}});var i=n(3829),o=n(3),r=n(2981);const s=(e,t,n)=>async(s,a)=>{let c;s(r.fs());const l=a().metadata.widgets[e];!0===l.hasProperties&&(c=await o.yx(l.defaultPropertiesUrl));const d=await o.U6(l.markupUrl,c),u={identifier:(0,i.A)(),properties:c},p={identifier:(0,i.A)(),type:e,variants:[u.identifier]};return s(r.QD(p,t,n,u,d)),{widgetIdentifier:p.identifier,variantIdentifier:u.identifier}},a=(e,t)=>(n,i)=>{const o=i().widgets[e];n(r.hW(o,t))},c=(e,t,n,i)=>async(s,a)=>{const{displayedWidgetVariants:c,widgets:l,widgetVariants:d,markups:u,metadata:p}=a(),g=l[e],f=c[e],h=u.variants[f],m=p.widgets[g.type];if(h.isDirty){const e=d[f].properties,t=await o.U6(m.markupUrl,e);s(r.WJ({[f]:t}))}s(r.Gm(e,t,n,i))},l=(e,t)=>async(n,i)=>{const{displayedWidgetVariants:s,widgets:a,metadata:c}=i(),l=a[e],d=c.widgets[l.type],u=s[e],p=await o.U6(d.markupUrl,t);n(r.LH(u,t,p))},d=(e,t)=>async(n,i,{logger:s})=>{try{const{displayedWidgetVariants:s,widgets:a,widgetVariants:c,metadata:l}=i(),d=a[e],u=l.widgets[d.type],p=s[e],g=Object.assign(Object.assign({},c[p].properties),{[t.name]:t.value}),f=!1!==t.refreshMarkup?await o.U6(u.markupUrl,g):void 0;n(r.LH(p,g,f))}catch(e){s.logException(e)}}},6313:function(e,t,n){"use strict";n.d(t,{MA:function(){return d},QT:function(){return c}});var i=n(3856),o=n(6485),r=n(3687),s=n(1496);const a=(e,t)=>e.filter((({name:e})=>!e||!t.includes(e))),c=(e,t,n)=>{if(!e)return null;if(!t)return n;if(0===t.length)throw new Error((0,o.cQ)(r.SL.LocalizationService).getLocalization("changesection.invalidsectionstate"));const i=l(e,t),c=i.map((e=>e.name));let u=i.reduce(((e,{name:i,identifier:o})=>{const r=t.find((e=>e.name===i)).identifier;return e[r]={name:i,identifier:r,widgets:[...n[o].widgets]},e}),{});const p=a(e,c),g=a(t,c),f=Math.min(p.length,g.length);u=p.slice(0,f).reduce(((e,t,i)=>(e[g[i].identifier]=s.UI.assignDefined({},{identifier:g[i].identifier,name:g[i].name,widgets:[...n[t.identifier].widgets]}),e)),u);g.slice(f).forEach((({identifier:e,name:t})=>{u[e]=s.UI.assignDefined({},{identifier:e,name:t,widgets:[]})}));const h=p.slice(f),m=d(h.map((e=>e.identifier)),n),[y]=[...g.slice(-1),...t.slice(-1)];return Array.prototype.push.apply(u[y.identifier].widgets,[...m]),u},l=(e,t)=>{const n=new Set(t.map((e=>e.name)).filter((e=>!!e)));return e.filter((e=>e.name&&n.has(e.name)))},d=(e,t)=>(0,i.A)(e,(e=>t[e].widgets))},6160:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var i=n(3812),o=n(7475),r=n(1496),s=n(2981);const a={},c=(e=a,t)=>{switch(t.type){case(0,o.getType)(s.Bn):return Object.assign(Object.assign({},e),r.Qc.toRecord(t.payload.widgetZones,"identifier"));case(0,o.getType)(s.Uf):return(0,i.A)(e,t.payload.section.zones);case(0,o.getType)(s.k7):return Object.assign(Object.assign({},(0,i.A)(e,t.payload.oldSection.zones)),t.payload.widgetZones);case(0,o.getType)(s.QD):case(0,o.getType)(s.hW):const{zoneIdentifier:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:l(e[n],t)});case(0,o.getType)(s.Gm):return d(e,t.payload);default:return e}},l=(e,t)=>{switch(t.type){case(0,o.getType)(s.QD):return Object.assign(Object.assign({},e),{widgets:r.Qc.insertItemIntoArray(e.widgets,t.payload.widget.identifier,t.payload.position)});case(0,o.getType)(s.hW):return Object.assign(Object.assign({},e),{widgets:e.widgets.filter((e=>e!==t.payload.widget.identifier))});default:return e}},d=(e,t)=>{const{originalZoneIdentifier:n,position:i,targetZoneIdentifier:o,widgetIdentifier:s}=t;let a;const c=Object.assign({},e);return n===o?a=r.Qc.moveItemBetweenArrays(e[n].widgets,s,i):(a=r.Qc.moveItemBetweenArrays(e[n].widgets,s,i,e[o].widgets),c[o]=Object.assign(Object.assign({},e[o]),{widgets:a.destinationArray})),c[n]=Object.assign(Object.assign({},e[n]),{widgets:a.sourceArray}),c}},3687:function(e,t,n){"use strict";n.d(t,{SL:function(){return i},Sx:function(){return r},VQ:function(){return s},a2:function(){return a},lA:function(){return o}});const i={LocalizationService:Symbol.for("LocalizationService"),NormalizerService:Symbol.for("NormalizerService"),PageConfigurationService:Symbol.for("PageConfigurationService"),PopUpElementsService:Symbol.for("PopUpElementsService"),MessagingService:Symbol.for("MessagingService")};var o,r,s,a;!function(e){e.SAVE_CONFIGURATION="Kentico.SaveConfiguration",e.LOAD_DISPLAYED_WIDGET_VARIANTS="Kentico.LoadDisplayedWidgetVariants",e.GET_DISPLAYED_WIDGET_VARIANTS="Kentico.GetDisplayedWidgetVariants",e.CONFIGURATION_STORED="Kentico.ConfigurationStored",e.CONFIGURATION_CHANGED="Kentico.ConfigurationChanged",e.MESSAGING_SUCCESS="Kentico.Messaging.Success",e.MESSAGING_ERROR="Kentico.Messaging.Error",e.MESSAGING_EXCEPTION="Kentico.Messaging.Exception",e.MESSAGING_WARNING="Kentico.Messaging.Warning",e.MESSAGING_WARNING_HIDE="Kentico.Messaging.WarningHide",e.MESSAGING_DRAG_START="Kentico.Messaging.DragStart",e.MESSAGING_DRAG_STOP="Kentico.Messaging.DragStop",e.OPEN_MODAL_DIALOG="Kentico.OpenModalDialog",e.CLOSE_MODAL_DIALOG="Kentico.CloseModalDialog",e.SAVE_TEMP_CONFIGURATION="Kentico.SaveTempConfiguration",e.TEMP_CONFIGURATION_STORED="Kentico.TempConfigurationStored",e.CHANGE_TEMPLATE="Kentico.ChangeTemplate",e.CANCEL_SCREENLOCK="Kentico.CancelScreenLock",e.CONFIRM="Kentico.Confirm",e.CONFIRM_RESPONSE="Kentico.ConfirmResponse",e.SET_RESTRICTED_WIDGETS="Kentico.SetRestrictedWidgets"}(o||(o={})),function(e){e.Widget="widget",e.Section="section",e.Template="template"}(r||(r={})),function(e){e.Properties="properties",e.Change="change",e.Personalization="personalisation",e.Delete="delete",e.Move="move"}(s||(s={})),function(e){e.Properties="icon-cogwheel",e.Change="icon-l-cols-30-70"}(a||(a={}))},5308:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<button class="ktc-btn-rich-text-apply" data-title="'+(null==(__t=buttonText)?"":__t)+'">\r\n    <svg class="fr-svg" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n        <path d="M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z"></path>\r\n    </svg>\r\n    <span class="ktc-btn-save__label">'+(null==(__t=buttonText)?"":__t)+"</span>\r\n</button>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},2672:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<html>\r\n<head>\r\n    <style>\r\n        "+(null==(__t=froalaCss)?"":__t)+'\r\n    </style>\r\n</head>\r\n<body class="fr-view" style="pointer-events: none;">\r\n'+(null==(__t=html)?"":__t)+"\r\n</body>\r\n</html>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},518:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form class="ktc-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active">\r\n    <div class="ktc-image-selector '+(null==(__t=imageUrl?"":"ktc-image-selector--empty")?"":__t)+'">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="imageUrl" class="ktc-selector-item fr-link-attr" value="'+(null==(__t=imageUrl)?"":__t)+'" title="" tabindex="1" />\r\n        <label for="imageUrl">'+(null==(__t=imageUrlLabel)?"":__t)+'</label>\r\n      </div>\r\n      <img class="ktc-selector-item-preview" src="'+(null==(__t=imageUrl)?"":__t)+'" />\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="3" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="fr-input-line">\r\n      <input id="ktc-configuration-url-text-1" name="altText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="4" dir="auto" value="'+(null==(__t=altText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=altTextLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=submitCommand)?"":__t)+'" tabindex="6" type="button">\r\n        '+(null==(__t=submitButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},7760:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form class="ktc-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active">\r\n    <div class="ktc-selector">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="ktc-page-name" class="ktc-selector-item fr-link-attr '+(null==(__t=linkUrl?"fr-not-empty":"")?"":__t)+'" value="'+(null==(__t=link)?"":__t)+'" title="'+(null==(__t=link)?"":__t)+'" tabindex="1" '+(null==(__t=isContentLinkType?"disabled":"")?"":__t)+' />\r\n        <label for="ktc-page-name">'+(null==(__t=linkLabel)?"":__t)+'</label>\r\n      </div>\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="3" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'" '+(null==(__t=isFormBuilder?'style="display:none;"':"")?"":__t)+" >\r\n          "+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n      <input name="linkUrl" value="'+(null==(__t=linkUrl)?"":__t)+'" hidden>\r\n    </div>\r\n    <div class="fr-input-line" style="display: '+(null==(__t=imageLink?"none":"block")?"":__t)+';">\r\n      <input id="ktc-configuration-url-text-1" name="linkText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="4" dir="auto" value="'+(null==(__t=linkText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=linkTextLabel)?"":__t)+"</label>\r\n    </div>\r\n    ",Object.keys(linkAttributes).forEach((function(e,t){__p+='\r\n      <div class="fr-input-line">\r\n        <input type="text" class="fr-link-attr fr-not-empty" name="'+__e(e)+'" value="'+__e(linkAttributes[e].value)+'" tabindex="'+(null==(__t=t+7)?"":__t)+'">\r\n        <label for="'+__e(e)+'">'+__e(linkAttributes[e].label)+"</label>\r\n      </div>\r\n    "})),__p+='\r\n    <div class="fr-checkbox-line">\r\n      <span class="fr-checkbox">\r\n        <input name="openInNewTab" class="fr-link-attr fr-not-empty" type="checkbox" id="ktc-configuration-openInNewTab"\r\n          tabindex="5" dir="auto" '+(null==(__t=openInNewTab?"checked":"")?"":__t)+'>\r\n        <span>\r\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10"\r\n            height="10" viewBox="0 0 32 32">\r\n            <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path>\r\n          </svg>\r\n        </span>\r\n      </span><label id="ktc-lbl-configuration-openInNewTab">'+(null==(__t=openInNewTabLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="6" type="button">\r\n        '+(null==(__t=actionButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},7279:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-macro-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <select id="ktc-configuration-macro-layer-type-1" class="ktc-select" name="contextMacroType" tabindex="1">\r\n                ',Object.keys(macros).forEach((e=>{__p+='\r\n                    <option value="'+__e(e)+'" '+(null==(__t=macroValue===e?"selected":"")?"":__t)+">"+__e(macros[e])+"</option>\r\n                "})),__p+='\r\n            </select>\r\n            <label for="ktc-configuration-macro-layer-type-1">'+(null==(__t=macroTypeLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-macro-layer-text-1" name="defaultText" type="text"\r\n                class="fr-link-attr fr-not-empty" placeholder="" tabindex="2" dir="auto"\r\n                value="'+(null==(__t=macroDefaultValue)?"":__t)+'"><label\r\n                for="ktc-configuration-macro-layer-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},9454:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <input id="ktc-configuration-url-layer-url-1" name="urlParameterName" type="text"\r\n                class="fr-link-attr '+(null==(__t=value?"fr-not-empty":"")?"":__t)+'" placeholder="" tabindex="1" dir="auto" value="'+(null==(__t=value)?"":__t)+'"><label\r\n                for="ktc-configuration-url-layer-url-1">'+(null==(__t=urlParameterLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-url-text-1" name="defaultText" type="text" class="fr-link-attr fr-not-empty"\r\n                placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=defaultValue)?"":__t)+'">\r\n            <label for="ktc-configuration-url-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},3118:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input type="button" class="'+(null==(__t=macroClass)?"":__t)+'" data-macro-type="'+(null==(__t=macroType)?"":__t)+'" data-macro-value="'+(null==(__t=macroValue)?"":__t)+'" \r\n    data-macro-default-value="'+__e(macroDefaultValue)+'" value="'+(null==(__t=macroDisplayValue)?"":__t)+'" />';return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},6092:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(2543);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+=".ktc-macro {\r\n  cursor          : pointer;\r\n  border          : 1px solid black;\r\n  border-radius   : 3px;\r\n  padding         : 0 4px;\r\n  background-color: #e5e5e5;\r\n}\r\n\r\n.ktc-macro:hover {\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.75);\r\n}\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},3810:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var i=n(1425);const o=e=>((0,i.Qi)("data-v-7a203f71"),e=e(),(0,i.jt)(),e),r={class:"ktc-admin-ui"},s=["message"],a=o((()=>(0,i.Lk)("div",{class:"ktc-border ktc-border-top"},null,-1))),c={class:"ktc-border ktc-border-right"},l=o((()=>(0,i.Lk)("div",{class:"ktc-border ktc-border-bottom"},null,-1))),d={class:"ktc-border ktc-border-left"};var u=(0,i.pM)({__name:"BorderContainer",props:{highlighted:{type:Boolean},selected:{type:Boolean},banned:{type:Boolean},bannedMessage:{},primary:{type:Boolean},hideVerticalBorder:{type:Boolean}},setup(e){const t=e,n=(0,i.EW)((()=>({"ktc-border-root":!0,"ktc-border-root--primary":t.primary,"ktc-border-root--highlighted":t.highlighted,"ktc-border-root--selected":t.selected,"ktc-border-root--banned":t.banned}))),o=(0,i.EW)((()=>!t.hideVerticalBorder||!t.highlighted||!t.selected));return(e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)(n.value)},[(0,i.Lk)("div",r,[e.banned?((0,i.uX)(),(0,i.CE)("kentico-alert-box",{key:0,message:e.bannedMessage},null,8,s)):(0,i.Q3)("",!0),a,(0,i.bo)((0,i.Lk)("div",c,null,512),[[i.aG,o.value]]),l,(0,i.bo)((0,i.Lk)("div",d,null,512),[[i.aG,o.value]])]),(0,i.RG)(e.$slots,"default")],2))}});var p=(0,n(6262).A)(u,[["__scopeId","data-v-7a203f71"]])},7406:function(e,t,n){"use strict";n.d(t,{A:function(){return O}});var i=n(1425);const o={class:"ktc-admin-ui"},r={key:0};var s=n(2943),a=n(1496),c=n(4679),l=n(5812),d=n(3810),u=n(2008),p=n(2981);const g={class:"ktc-admin-ui"},f={class:"ktc-admin-ui"},h={key:0};var m=n(9931),y=n(8999),b=n(1945),v=n(9069),k=n(7249),_=(0,i.pM)({components:{BorderContainer:k.W5,DropZone:k.wC,SectionHeader:k.X3},mixins:[m.co],data(){return{cancellableHideHeaderToken:null,highlightedBorder:!1}},computed:{showSectionTypeList(){const{componentIdentifier:e,popupType:t}=this.popup;return e===this.sectionIdentifier&&t===v.GI.ChangeSection},renderSectionHeader(){return this.highlightedSection.sectionIdentifier===this.sectionIdentifier},highlightBorder(){return this.renderSectionHeader&&this.highlightedSection.highlightBorder},showDropZone(){return this.dragAndDrop.entity===s.c.Section&&this.dragAndDrop.itemIdentifier!==this.sectionIdentifier},showSectionDropMarker(){return this.dragAndDrop.targetContainerIdentifier===this.areaIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1},showSectionDivider(){return!this.dragAndDrop.itemIdentifier}},mounted(){a.jp.mountSectionToDragAndDrop(this.sectionIdentifier)},methods:{onSectionMouseOver(){this.renderSectionHeader||this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition()),this.dragAndDrop.entity===s.c.Section&&this.highlightSectionBorder(this.sectionIdentifier),this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)},onSectionMouseLeave(){this.highlightedSection.freezeHighlight?clearTimeout(this.cancellableHideHeaderToken):(this.showSectionTypeList||(this.cancellableHideHeaderToken=setTimeout((()=>{this.renderSectionHeader&&this.hideSectionHeader()}),y.wg)),this.dragAndDrop.entity===s.c.Section&&this.dehighlightSectionBorder())},onSectionClick(){this.renderSectionHeader||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition())},onHeaderMouseEnter(){this.highlightBorder||this.dragAndDrop.itemIdentifier||this.highlightSectionBorder()},onHeaderMouseLeave(){this.showSectionTypeList||this.dragAndDrop.itemIdentifier||this.highlightedSection.freezeHighlight||this.$nextTick((()=>{this.highlightedSection.freezeHighlight||this.dehighlightSectionBorder()}))},onHeaderClickAway(e){this.showSectionTypeList&&this.closePopup(),this.renderSectionHeader&&!a.cT.isFriendlyElementSelected(e,this.friendlyElementSelectors)&&(this.isClickOutsideSection(e)?this.hideSectionHeader():this.highlightBorder&&this.dehighlightSectionBorder())},onCloseSectionTypeList(e){this.isClickOutsideSection(e.detail)?this.hideSectionHeader():this.dehighlightSectionBorder(),this.closePopup()},computeHeaderPosition(){const e=this.$refs.sectionHeader.$el.querySelector("kentico-section-header");if(!e)return null;return(0,b.cx)(e.getBoundingClientRect(),e.offsetWidth)===v.lD.Left?v.lD.Left:v.lD.Right},isClickOutsideSection(e){const{clientX:t,clientY:n}=e,{left:i,right:o,top:r,bottom:s}=this.$el.getBoundingClientRect();return t<i||t>o||n<r||n>s},sectionMarkupChanged(){this.$emit("sectionMarkupChanged",this.sectionIdentifier)},freezeHighlightChanged(){this.highlightedSection.freezeHighlight&&this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)}},props:{areaIdentifier:{required:!0,type:String},sectionIdentifier:{required:!0,type:String},position:{required:!0,type:Number},sectionType:{type:String},sectionMarkup:{type:String},popup:{type:Object},highlightedSection:{type:Object},dragAndDrop:{type:Object},allowAddSection:{type:Boolean},friendlyElementSelectors:{default:()=>[],type:Array},showSectionHeader:{type:Function},hideSectionHeader:{type:Function},highlightSectionBorder:{type:Function},dehighlightSectionBorder:{type:Function},closePopup:{type:Function},changeSection:{type:Function}},watch:{sectionMarkup:[{handler:"sectionMarkupChanged"}],"highlightedSection.freezeHighlight":[{handler:"freezeHighlightChanged"}]}}),w=n(6262);var T=(0,w.A)(_,[["render",function(e,t,n,o,r,s){const a=(0,i.g2)("SectionHeader"),c=(0,i.g2)("DropZone"),l=(0,i.g2)("BorderContainer"),d=(0,i.gN)("click-away");return(0,i.uX)(),(0,i.Wv)(l,{highlighted:e.highlightBorder,onMouseover:e.onSectionMouseOver,onMouseleave:e.onSectionMouseLeave,onClick:e.onSectionClick},{default:(0,i.k6)((()=>[(0,i.bo)(((0,i.uX)(),(0,i.Wv)(a,{class:"ktc-section-header-container",ref:"sectionHeader",areaIdentifier:e.areaIdentifier,sectionIdentifier:e.sectionIdentifier,showSectionTypeList:e.showSectionTypeList,sectionType:e.sectionType,highlighted:e.highlightBorder,onMouseenter:(0,i.D$)(e.onHeaderMouseEnter,["stop"]),onMouseleave:(0,i.D$)(e.onHeaderMouseLeave,["stop"]),onClosePopup:e.onCloseSectionTypeList,onChangeSection:t[0]||(t[0]=t=>e.$emit("changeSection",t,e.sectionIdentifier)),onRemoveSection:t[1]||(t[1]=t=>e.$emit(t.type,e.sectionIdentifier))},{sectionHeaderExtraButtons:(0,i.k6)((()=>[(0,i.RG)(e.$slots,"sectionHeaderExtraButtons",{},void 0,!0)])),_:3},8,["areaIdentifier","sectionIdentifier","showSectionTypeList","sectionType","highlighted","onMouseenter","onMouseleave","onClosePopup"])),[[d,e.onHeaderClickAway]]),(0,i.Lk)("div",g,[e.showDropZone?((0,i.uX)(),(0,i.Wv)(c,{key:0,containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!1,class:"ktc-dropzone--top"},null,8,["containerIdentifier","position"])):(0,i.Q3)("",!0),e.showDropZone?((0,i.uX)(),(0,i.Wv)(c,{key:1,containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!0,class:"ktc-dropzone--bottom"},null,8,["containerIdentifier","position"])):(0,i.Q3)("",!0)]),(0,i.RG)(e.$slots,"sectionMarkup",{sectionMarkup:e.sectionMarkup},void 0,!0),(0,i.Lk)("div",f,[e.showSectionDropMarker?((0,i.uX)(),(0,i.CE)("kentico-drop-marker",h)):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("div",null,[e.allowAddSection?(0,i.RG)(e.$slots,"sectionDivider",{key:0,class:"ktc-section-divider",sectionIdentifier:e.sectionIdentifier,areaIdentifier:e.areaIdentifier},void 0,!0):(0,i.Q3)("",!0)],512),[[i.aG,e.showSectionDivider]])])])),_:3},8,["highlighted","onMouseover","onMouseleave","onClick"])}],["__scopeId","data-v-0d870653"]]);var S=(0,u.N)(((e,{areaIdentifier:t,sectionIdentifier:n})=>{const{sections:i,markups:o,popup:r,highlightedSection:s,dragAndDrop:a,editableAreasConfiguration:c,config:l}=e,d=i[n]?i[n].type:"",u=c[t].sectionRestrictions,p=null===u||u.length>0;return{sectionType:d,sectionMarkup:o.sections[n]?o.sections[n].markup:"",allowAddSection:p,popup:r,highlightedSection:s,dragAndDrop:a,friendlyElementSelectors:[`#${l.propertiesEditorClientId}`]}}),(()=>({showSectionHeader:p.ko,hideSectionHeader:p.ff,highlightSectionBorder:p.Ir,dehighlightSectionBorder:p.dn,closePopup:p.fs})))(T),I=(0,i.pM)({components:{Section:S,BorderContainer:d.A},computed:{editableAreaClasses(){return{"ktc-editable-area":!0,"ktc-editable-area--banned":this.isBanned}},isBanned(){return(0,c.g7)(this.dragAndDrop.bannedAreas,this.identifier)},showAreaDropMarker(){return this.dragAndDrop.entity===s.c.Section&&this.dragAndDrop.targetContainerIdentifier===this.identifier&&0===this.dragAndDrop.dropMarkerPosition},bannedAreaMessage(){return this.dragAndDrop.entity===s.c.Widget?this.$_localizationService.getLocalization("areas.bannedwidgetmessage"):this.$_localizationService.getLocalization("areas.bannedsectionmessage")}},methods:{async onRemoveSection(e){const t=this.$_localizationService.getLocalization("section.remove.confirmation");await(0,l.l)(t)&&(a.jp.removeSectionFromDragAndDrop(e),this.removeSection(e,this.identifier)),1===this.sectionsInArea.length&&a.jp.mountSectionToDragAndDropAfterNextTick(this,e)},async onChangeSection(e,t){a.jp.removeSectionFromDragAndDrop(t),await this.changeSection(t,e.detail.key),a.jp.mountSectionToDragAndDropAfterNextTick(this,t)},onSectionMarkupChanged(e){a.jp.removeSectionFromDragAndDrop(e),a.jp.mountSectionToDragAndDropAfterNextTick(this,e)}},props:{identifier:{required:!0,type:String},sectionsInArea:{type:Array},dragAndDrop:{type:Object},removeSection:{type:Function},changeSection:{type:Function}}});var O=(0,w.A)(I,[["render",function(e,t,n,s,a,c){const l=(0,i.g2)("Section"),d=(0,i.g2)("BorderContainer");return(0,i.uX)(),(0,i.Wv)(d,{id:e.identifier,class:(0,i.C4)(e.editableAreaClasses),banned:e.isBanned,bannedMessage:e.bannedAreaMessage},{default:(0,i.k6)((()=>[(0,i.Lk)("div",o,[e.showAreaDropMarker?((0,i.uX)(),(0,i.CE)("kentico-drop-marker",r)):(0,i.Q3)("",!0)]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.sectionsInArea,((t,n)=>((0,i.uX)(),(0,i.Wv)(l,{class:"ktc-section",id:t,key:t,position:n,sectionIdentifier:t,areaIdentifier:e.identifier,onRemoveSection:e.onRemoveSection,onChangeSection:e.onChangeSection,onSectionMarkupChanged:e.onSectionMarkupChanged},{sectionMarkup:(0,i.k6)((({sectionMarkup:n})=>[(0,i.RG)(e.$slots,"sectionMarkup",{sectionIdentifier:t,sectionMarkup:n},void 0,!0)])),sectionHeaderExtraButtons:(0,i.k6)((()=>[(0,i.RG)(e.$slots,"sectionHeaderExtraButtons",{sectionIdentifier:t},void 0,!0)])),sectionDivider:(0,i.k6)((({sectionIdentifier:t,areaIdentifier:n})=>[(0,i.RG)(e.$slots,"sectionDivider",{sectionIdentifier:t,areaIdentifier:n},void 0,!0)])),_:2},1032,["id","position","sectionIdentifier","areaIdentifier","onRemoveSection","onChangeSection","onSectionMarkupChanged"])))),128))])),_:3},8,["id","class","banned","bannedMessage"])}],["__scopeId","data-v-6275e8ce"]])},8037:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var i=n(1425),o=n(7249),r=n(9069);const s={class:"ktc-admin-ui"};var a=(0,i.pM)({__name:"GlobalComponentWrapper",props:{selectItem:{type:Function},popupType:{},modalDialogs:{}},setup(e){const t=e,n=(0,i.EW)((()=>t.popupType===r.GI.AddWidget||t.popupType===r.GI.AddSection));return(e,t)=>((0,i.uX)(),(0,i.CE)("div",s,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.modalDialogs,(e=>((0,i.uX)(),(0,i.Wv)((0,i.R1)(o.yZ),{key:e.identifier,dialogIndex:e.index},null,8,["dialogIndex"])))),128)),n.value?((0,i.uX)(),(0,i.Wv)((0,i.R1)(o.VR),{key:0,selectItem:e.selectItem},{"pop-up-content-top":(0,i.k6)((()=>[(0,i.RG)(e.$slots,"pop-up-content-top")])),"pop-up-content-filter":(0,i.k6)((()=>[(0,i.RG)(e.$slots,"pop-up-content-filter")])),_:3},8,["selectItem"])):(0,i.Q3)("",!0),(0,i.RG)(e.$slots,"default")]))}})},2010:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var i=n(1425);const o={class:"ktc-admin-ui"},r={key:1},s={class:"ktc-admin-ui"},a=["is-active",".tooltip"];var c=n(9931),l=n(7249),d=n(2943),u=n(4679),p=n(5812),g=n(2008),f=n(2981),h=n(680),m=n(1343);const y={class:"ktc-admin-ui"},b={class:"ktc-admin-ui"},v=["is-active",".tooltip"],k={key:0};var _=n(4077),w=n(9069);const T=[".data-markup"];var S=n(3829),I=n(1496),O=n(103),A=(0,i.pM)({data(){return{externalScriptIdentifier:`ktc-widget-markup-script-${(0,S.A)()}`}},mounted(){const e=this.$refs.widgetMarkup;(0,O.dk)(this.markup,e,this.externalScriptIdentifier),I.DL.disableElementLinks(e),this.initializeEditors()},beforeUpdate(){this.cleanup()},updated(){const e=this.$refs.widgetMarkup;(0,O.dk)(this.markup,e,this.externalScriptIdentifier),I.DL.disableElementLinks(e),this.initializeEditors()},beforeUnmount(){this.cleanup()},methods:{cleanup(){(0,_.ML)(this.$refs.widgetMarkup),(0,O.l5)(this.externalScriptIdentifier)},initializeEditors(){this.$emit("markupUpdated",this.$refs.widgetMarkup)}},props:{markup:{required:!0,type:String},variantIdentifier:{required:!0,type:String}}}),C=n(6262);var E=(0,C.A)(A,[["render",function(e,t,n,o,r,s){return(0,i.uX)(),(0,i.CE)("div",{key:e.variantIdentifier},[(0,i.Lk)("div",null,[(0,i.Lk)("div",{class:"ktc-widget-body-wrapper",ref:"widgetMarkup",".data-markup":e.markup},null,40,T)])])}]]),L=(0,i.pM)({components:{BorderContainer:l.W5,WidgetMarkup:E,DropZone:l.wC},mixins:[c.co],data(){return{topOffset:0}},computed:{addTooltip(){return this.$_localizationService.getLocalization("widget.addTooltip")},widgetClasses(){return{"ktc-widget":!0,"ktc-widget--highlighted":this.isHighlighted,"ktc-widget--selected":this.isSelected,"ktc-widget--dragged":this.isDragged}},isDragged(){return this.dragAndDrop.itemIdentifier===this.widgetIdentifier},isSelected(){return this.selectedWidgetIdentifier===this.widgetIdentifier},isHighlighted(){return this.highlightedWidgetIdentifier===this.widgetIdentifier&&!this.popup.componentIdentifier&&(!this.dragAndDrop.itemIdentifier&&!this.selectedWidgetIdentifier||this.dragAndDrop.entity===d.c.Widget)},isWidgetListOpen(){return this.widgetIdentifier===this.popup.componentIdentifier&&this.popup.popupType===w.GI.AddWidget},showDropZone(){return this.dragAndDrop.entity===d.c.Widget&&this.dragAndDrop.itemIdentifier!==this.widgetIdentifier&&!this.isDropBanned},showWidgetDropMarker(){return this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1}},mounted(){this.$el.addEventListener("updateProperty",this.onUpdateProperty,{capture:!0}),this.calculateTopOffset()},beforeUnmount(){this.$el.removeEventListener("updateProperty",this.onUpdateProperty,{capture:!0})},updated(){this.calculateTopOffset()},methods:{calculateTopOffset(){this.topOffset=this.$el.getBoundingClientRect().top+window.pageYOffset},onMouseOver(){this.isHighlighted||null!==this.popup.componentIdentifier||(this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier)&&this.dragAndDrop.entity!==d.c.Widget||this.highlightWidget(this.widgetIdentifier)},onMouseLeave(){null!==this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier||this.dehighlightWidget(this.widgetIdentifier)},onWidgetClick(){this.isFrozen||this.isSelected||this.selectWidget(this.widgetIdentifier)},onWidgetClickAway(e){this.$nextTick((()=>{this.isFrozen||this.isClickAwayDisabled||!this.isSelected||I.cT.isFriendlyElementSelected(e,this.friendlyElementSelectors)||this.unselectWidget(),this.isClickAwayDisabled&&this.isSelected&&this.enableWidgetClickAway()}))},onOpenComponentList({detail:e}){this.isWidgetListOpen?this.closePopup():this.openPopup(this.widgetIdentifier,e,this.areaIdentifier,this.zoneIdentifier)},onUpdateProperty(e){this.setWidgetProperty(this.widgetIdentifier,e.detail)},onMarkupUpdated(e){(0,_.Qj)(e,this.displayedVariant.properties)},clickedAway(){this.isWidgetListOpen&&this.closePopup()}},props:{widgetIdentifier:{required:!0,type:String},position:{required:!0,type:Number},zoneIdentifier:{required:!0,type:String},isDropBanned:{default:!1,type:Boolean},areaIdentifier:{required:!0,type:String},openPopup:{required:!0,type:Function},dragAndDrop:{type:Object},selectedWidgetIdentifier:{type:String},highlightedWidgetIdentifier:{type:String},popup:{type:Object},widget:{type:Object},displayedVariantMarkup:{type:String},displayedVariant:{type:Object},widgetTitle:{type:String},isFrozen:{type:Boolean},isClickAwayDisabled:{type:Boolean},friendlyElementSelectors:{default:()=>[],type:Array},highlightWidget:{type:Function},dehighlightWidget:{type:Function},selectWidget:{type:Function},unselectWidget:{type:Function},enableWidgetClickAway:{type:Function},closePopup:{type:Function},setWidgetProperty:{type:Function}}});var j=(0,C.A)(L,[["render",function(e,t,n,o,r,s){const a=(0,i.g2)("DropZone"),c=(0,i.g2)("WidgetMarkup"),l=(0,i.g2)("BorderContainer"),d=(0,i.gN)("click-away");return(0,i.bo)(((0,i.uX)(),(0,i.Wv)(l,{class:(0,i.C4)(e.widgetClasses),highlighted:e.isHighlighted,selected:e.isSelected,hideVerticalBorder:!0,primary:!0,onClick:e.onWidgetClick,onMouseover:e.onMouseOver,onMouseleave:e.onMouseLeave},{default:(0,i.k6)((()=>[(0,i.Lk)("div",y,[(0,i.Lk)("div",{class:"ktc-widget-header-wrapper","on:removeWidget":t[0]||(t[0]=t=>e.$emit(t.type,e.widgetIdentifier))},[(0,i.RG)(e.$slots,"widgetHeader",{widgetTitle:e.widgetTitle,widgetIdentifier:e.widgetIdentifier,widgetTopOffset:e.topOffset},void 0,!0)],32),e.showDropZone?((0,i.uX)(),(0,i.Wv)(a,{key:0,containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!1,class:"ktc-dropzone--top"},null,8,["containerIdentifier","position"])):(0,i.Q3)("",!0),e.showDropZone?((0,i.uX)(),(0,i.Wv)(a,{key:1,containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!0,class:"ktc-dropzone--bottom"},null,8,["containerIdentifier","position"])):(0,i.Q3)("",!0)]),(0,i.bF)(c,{markup:e.displayedVariantMarkup,variantIdentifier:e.displayedVariant.identifier,onMarkupUpdated:e.onMarkupUpdated},null,8,["markup","variantIdentifier","onMarkupUpdated"]),(0,i.Lk)("div",b,[(0,i.bo)((0,i.Lk)("kentico-add-component-button",{"is-small":"true",ref:"addWidget","is-active":e.isWidgetListOpen,".tooltip":e.addTooltip,primary:!0,"on:openComponentList":t[1]||(t[1]=(...t)=>e.onOpenComponentList&&e.onOpenComponentList(...t))},null,40,v),[[i.aG,!e.dragAndDrop.itemIdentifier],[d,e.clickedAway]]),e.showWidgetDropMarker?((0,i.uX)(),(0,i.CE)("kentico-drop-marker",k)):(0,i.Q3)("",!0)])])),_:3},8,["class","highlighted","selected","onClick","onMouseover","onMouseleave"])),[[d,e.onWidgetClickAway]])}],["__scopeId","data-v-0cd0be0c"]]);var D=(0,g.N)(((e,{widgetIdentifier:t})=>{const{dragAndDrop:n,widgetSelection:i,highlightedWidget:o,popup:r,metadata:s,widgetVariants:a,markups:c,displayedWidgetVariants:l,widgets:d,config:u}=e,p=d[t],g=l[t];return{dragAndDrop:n,selectedWidgetIdentifier:i.identifier,highlightedWidgetIdentifier:o,popup:r,widget:p,displayedVariant:a[g],displayedVariantMarkup:g?c.variants[g].markup:"",widgetTitle:p?s.widgets[p.type].name:"",isFrozen:i.freezeSelection,isClickAwayDisabled:i.preventClickAway,friendlyElementSelectors:[`#${u.propertiesEditorClientId}`,`.${m.B}`]}}),(()=>({highlightWidget:f.Rt,dehighlightWidget:f.Ov,selectWidget:f.Xj,unselectWidget:f.CT,enableWidgetClickAway:f.aC,closePopup:f.fs,setWidgetProperty:h.Uq})))(j),P=n(2776),M=(0,i.pM)({components:{BorderContainer:l.W5,Widget:D,DropZone:l.wC},mixins:[c.co],computed:{addTooltip(){return this.$_localizationService.getLocalization("widget.addTooltip")},widgetZoneClasses(){return{"ktc-widget-zone":!0,"ktc-widget-zone--empty":this.isEmpty,"ktc-widget-zone--highlighted":null!==this.dragAndDrop.itemIdentifier,"ktc-widget-zone--banned":this.isZoneDropBanned}},isEmpty(){return 0===this.widgetsInZone.length},isWidgetListOpen(){return this.popup.componentIdentifier===this.zoneIdentifier},showZoneDropMarker(){return!this.isEmpty&&this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&0===this.dragAndDrop.dropMarkerPosition},isDropBanned(){return this.isParentAreaBanned||this.isZoneDropBanned},isZoneDropBanned(){return this.dragAndDrop.bannedZones.includes(this.zoneIdentifier)},isParentAreaBanned(){return(0,u.g7)(this.dragAndDrop.bannedAreas,this.areaIdentifier)},isDraggedItemWidget(){return this.dragAndDrop.entity===d.c.Widget},headerTitle(){return this.$_localizationService.getLocalization("widget.headerTitle")},bannedZoneMessage(){return this.$_localizationService.getLocalization("areas.bannedwidgetmessage")}},methods:{async onRemoveWidget(e){const t=this.$_localizationService.getLocalization("widget.remove.confirmation");await(0,p.l)(t)&&this.removeWidget(e,this.zoneIdentifier)},onOpenComponentList({detail:e}){this.isWidgetListOpen?this.closePopup():this.openPopup(this.zoneIdentifier,e,this.areaIdentifier,this.zoneIdentifier)},clickedAway(){this.isWidgetListOpen&&this.closePopup()}},props:Object.assign(Object.assign({},P.i),{zoneIdentifier:{type:String},dragAndDrop:{type:Object},zone:{type:Object},popup:{type:Object},widgetsInZone:{type:Array},removeWidget:{type:Function},closePopup:{type:Function},openPopup:{type:Function}})});var x=(0,C.A)(M,[["render",function(e,t,n,c,l,d){const u=(0,i.g2)("DropZone"),p=(0,i.g2)("Widget"),g=(0,i.g2)("BorderContainer"),f=(0,i.gN)("click-away");return(0,i.uX)(),(0,i.Wv)(g,{id:e.zoneIdentifier,class:(0,i.C4)(e.widgetZoneClasses),banned:e.isZoneDropBanned,bannedMessage:e.bannedZoneMessage},{default:(0,i.k6)((()=>[(0,i.Lk)("div",o,[e.isEmpty?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(u,{key:0,class:(0,i.C4)(["ktc-dropzone--full",{"ktc-dropzone--active":e.dragAndDrop.targetContainerIdentifier===e.zoneIdentifier}]),position:0,containerIdentifier:e.zoneIdentifier},null,8,["class","containerIdentifier"])),[[i.aG,e.isDraggedItemWidget&&!e.isDropBanned]]):(0,i.Q3)("",!0),e.showZoneDropMarker?((0,i.uX)(),(0,i.CE)("kentico-drop-marker",r)):(0,i.Q3)("",!0)]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.widgetsInZone,((t,n)=>((0,i.uX)(),(0,i.Wv)(p,{id:t.identifier,key:t.identifier,widgetIdentifier:t.identifier,zoneIdentifier:e.zoneIdentifier,areaIdentifier:e.areaIdentifier,position:n,isDropBanned:e.isDropBanned,openPopup:e.openPopup,onRemoveWidget:e.onRemoveWidget},{widgetHeader:(0,i.k6)((({widgetTitle:t,widgetIdentifier:n,widgetTopOffset:o})=>[(0,i.RG)(e.$slots,"widgetHeader",{widgetTitle:t,widgetIdentifier:n,widgetTopOffset:o},void 0,!0)])),_:2},1032,["id","widgetIdentifier","zoneIdentifier","areaIdentifier","position","isDropBanned","openPopup","onRemoveWidget"])))),128)),(0,i.Lk)("div",s,[e.isEmpty?(0,i.bo)(((0,i.uX)(),(0,i.CE)("kentico-add-component-button",{key:0,ref:"addWidget","is-active":e.isWidgetListOpen,".tooltip":e.addTooltip,primary:!0,"on:openComponentList":t[0]||(t[0]=(...t)=>e.onOpenComponentList&&e.onOpenComponentList(...t))},null,40,a)),[[f,e.clickedAway],[i.aG,!e.dragAndDrop.itemIdentifier]]):(0,i.Q3)("",!0)])])),_:3},8,["id","class","banned","bannedMessage"])}],["__scopeId","data-v-2c444b7f"]])},2977:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var i=n(1425);const o=[".placeholder",".value"];var r=(0,i.pM)({computed:{placeholder(){return this.$_localizationService.getLocalization("widgetlist.filter.placeholder")}},methods:{handleFilterChange(e){this.applyFilter(e.detail)}},props:{showFilter:{type:Boolean},filterPhrase:{type:String},applyFilter:{type:Function}}});var s=(0,n(6262).A)(r,[["render",function(e,t,n,r,s,a){return e.showFilter?((0,i.uX)(),(0,i.CE)("kentico-pop-up-filter",{key:0,"on:filterChange":t[0]||(t[0]=(...t)=>e.handleFilterChange&&e.handleFilterChange(...t)),".placeholder":e.placeholder,".value":e.filterPhrase},null,40,o)):(0,i.Q3)("",!0)}]])},2904:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var i=n(1425);const o=["text"],r=[".items",".columnType"];var s=(0,i.pM)({computed:{popupContentHeaderText(){return this.$_localizationService.getLocalization("widgetlist.recentwidgets.header")}},props:{recentItems:{type:Array},columnType:{type:String},showComponent:{type:Boolean}}});var a=(0,n(6262).A)(s,[["render",function(e,t,n,s,a,c){return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("kentico-popup-content-header",{text:e.popupContentHeaderText},null,8,o),(0,i.Lk)("kentico-pop-up-listing",{".items":e.recentItems,".columnType":e.columnType},null,40,r)],512)),[[i.aG,e.showComponent]])}],["__scopeId","data-v-2a524dc6"]])},5007:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var i=n(1425);const o=["active","add-button-position",".localizationService",".show-component-list",".addTooltip"];var r=n(9931),s=n(8999),a=n(1945),c=n(9069),l=(0,i.pM)({mixins:[r.co],data(){return{sectionDividerPosition:null}},computed:{addTooltip(){return this.$_localizationService.getLocalization("section.addTooltip")}},mounted(){this.setDividerButtonPosition(),window.addEventListener("resize",this.setDividerButtonPosition)},methods:{clickedAway(){this.isSectionListOpen&&this.closePopup()},onOpenComponentList({detail:e}){this.isSectionListOpen?this.closePopup():this.openPopup(this.sectionIdentifier,e,this.areaIdentifier)},setDividerButtonPosition(){const e=this.$refs.addSection.parentElement.getBoundingClientRect().left>s.dv;this.sectionDividerPosition=e?c.lD.Left:c.lD.Right,this.isSectionListOpen&&this.$nextTick((()=>{const e=document.querySelector(".ktc-section-divider[active='true']").shadowRoot.querySelector("kentico-add-component-button[is-active]").getBoundingClientRect(),t=(0,a.cx)(e,null),n=(0,a.m9)(e);this.setPopupPosition(t,c.nl.Bottom,n)}))},beforeUnmount(){window.removeEventListener("resize",this.setDividerButtonPosition)}},props:{sectionIdentifier:{required:!0,type:String},areaIdentifier:{required:!0,type:String},isSectionListOpen:{type:Boolean},closePopup:{type:Function},openPopup:{type:Function},setPopupPosition:{type:Function}}});var d=(0,n(6262).A)(l,[["render",function(e,t,n,r,s,a){const c=(0,i.gN)("click-away");return(0,i.bo)(((0,i.uX)(),(0,i.CE)("kentico-section-divider",{ref:"addSection",active:e.isSectionListOpen,"add-button-position":e.sectionDividerPosition,".localizationService":e.$_localizationService,".show-component-list":e.isSectionListOpen,".addTooltip":e.addTooltip,"on:openComponentList":t[0]||(t[0]=(...t)=>e.onOpenComponentList&&e.onOpenComponentList(...t)),"on:closePopup":t[1]||(t[1]=(...t)=>e.closePopup&&e.closePopup(...t))},null,40,o)),[[c,e.clickedAway]])}]])},9271:function(){}}]);